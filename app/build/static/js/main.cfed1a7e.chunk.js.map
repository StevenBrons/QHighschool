{"version":3,"sources":["store/usersReducer.js","store/groupsReducer.js","store/mainReducer.js","lib/MuiTheme.js","store/actions.js","pages/Login.js","pages/Page.js","components/Progress.js","pages/group/EnrollmentPopup.js","pages/group/ChooseButton.js","components/EnsureSecureLogin.js","fields/FieldContainer.js","fields/InputField.js","fields/SelectField.js","pages/group/Evaluation.js","pages/group/GroupCard.js","pages/group/PresenceTable.js","pages/profile/educationConstraints.js","pages/group/Lesson.js","pages/user/UserRow.js","pages/user/UserList.js","components/PageLeaveWarning.js","pages/group/GroupData.js","components/NotificationBadge.js","fields/UserField.js","pages/group/GroupPage.js","pages/group/Group.js","pages/CourseSelect.js","pages/DataPage.js","pages/Taxi.js","components/Header.js","components/NotificationBar.js","components/Menu.js","pages/Portfolio.js","pages/ControlPanel.js","pages/profile/PersonalData.js","pages/profile/EducationData.js","pages/profile/ExamSubjects.js","pages/profile/OtherData.js","lib/LoginProvider.js","components/Saveable.js","pages/profile/Profile.js","pages/Certificate.js","pages/user/UserListPage.js","App.js","lib/GlobalProvider.js","index.js"],"names":["DEFAULT_USERS","usersReducer","users","action","type","newUsers","x","user","id","userId","enrollmentIds","concat","groupId","index","indexOf","slice","DEFAULT_GROUPS","groups","newGroups","key","group","lessons","lessonId","userStatus","DEFAULT_STATE","currentPeriod","enrollmentPeriod","schoolYear","possibleYears","currentYear","yearMax","parseInt","split","years","i","push","generateYears","enrollableGroups","subjects","showMenu","notifications","hasFetched","mainReducer","state","role","secureLogin","notification","menuState","call","method","data","groupsReducer","theme","createMuiTheme","apiErrorHandler","endpoint","dispatch","error","responseJSON","Math","random","priority","message","scope","fetchData","getState","forceArray","a","f","length","o","console","$","ajax","url","dataType","then","list","Array","isArray","keyBy","catch","getSubjects","getGroups","getParticipatingGroups","testIE","test","window","navigator","userAgent","sticky","getEnrolLments","enrollments","Object","keys","getAllUsers","addNotification","removeNotification","toggleMenu","setSecureLogin","addSubject","name","description","addCourse","subjectId","addGroup","courseId","mainTeacherId","setCookie","cname","cvalue","exhours","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","ca","decodeURIComponent","c","charAt","substring","relogSecure","location","pathname","search","href","Login","props","this","generateEmail","bind","interval","setInterval","school","schoolShort","studentNumber","floor","setState","clearInterval","Typography","variant","style","fontFamily","overflow","color","palette","secondary","light","fontWeight","dark","history","Paper","elevation","className","minHeight","padding","gutterBottom","generateColoredEmail","Button","size","fullWidth","onClick","login","Component","withRouter","connect","email","password","Page","children","Progress","isShowing","timeout","setTimeout","clearTimeout","CircularProgress","EnrollmentPopup","getRemarkPage","remarks","Dialog","open","keepMounted","DialogTitle","DialogContent","DialogActions","preventPopupClose","page","fontSize","day","chosenDayGroupName","courseName","handlePopup","getCancelPage","hasChosenDay","getDuplicatePage","getConfirmPage","nextProps","prevProps","hasChosen","ChooseButton","preventClose","doEnroll","toggleEnrollment","dialogOpen","dialog","loading","canChoose","period","disabled","ownProps","forEach","enrollable","EnsureSecureLogin","active","content","dense","marginTop","validate","value","rules","options","re","re2","isNaN","replace","min","parseFloat","max","notEmpty","maxLength","FieldContainer","component","flex","td","InputField","P","editable","default","CP","InputProps","InputLabelProps","inputProps","label","multiline","onChange","event","target","disableUnderline","unit","endAdornment","InputAdornment","position","readOnly","typograpyProps","TextField","SelectField","renderValue","val","multiple","map","v","opt","filter","category","getOptionsLabel","join","getCategoryOf","find","getAutocomplete","Autocomplete","freeSolo","autoSelect","groupBy","getOptionLabel","renderInput","params","getCurtain","width","height","zIndex","renderMenuItems","reduce","acc","cur","last","sep","ListSubheader","MenuItem","getDropdown","nonEdit","IconComponent","FormControl","InputLabel","Select","field","prevState","normOptions","getNormalizedOptions","CHECK_FORMATS","STEPWISE_FORMATS","EVALUATION_FORMATS","getEvaluationColor","ev","assesment","translateAssessment","evaluation","toUpperCase","toFixed","isCertificateWorthy","EvaluationField","e","EvaluationDisplay","EvaluationTab","onSortChange","sortValue","sortDirection","handleSingleChange","newEv","newEvaluations","evaluations","handleChange","sortEvaluations","sort","b","cmp","displayName","newValue","alignItems","paddingRight","paddingLeft","display","evComps","explanation","backgroundColor","Tooltip","title","enterDelay","placement","TableSortLabel","direction","handleEvaluationTypeChange","GroupCard","hover","hasEvaluation","expand","onMouseEnter","onMouseLeave","Badge","invisible","badgeContent","maxHeight","cursor","subjectName","padStart","textTransform","float","enrollableFor","courseDescription","getBottomSection","PresenceTable","createRow","participantId","lesson","p","presence","createPresenceComponent","status","createLessonHeader","numberInBlock","undefined","rows","participantIds","unshift","possibleValues","level","profile","year","schoolLocation","arrToObj","arr","constraint","oneDeepPossibleValues","obj","y","oneDeep","Lesson","number","displayDate","date","getWeekdayString","getDay","getDate","getMonth","getFullYear","locations","flatten","educationConstraints","adres","room","subject","activities","flexDirection","verticleAlign","kind","setPresenceUserStatus","UserRow","margin","numberWithoutCharacters","substr","match","exec","isExtendedUser","preferedEmail","phoneNumber","justifyContent","Link","preventDefault","formatPhoneNumber","UserList","getHeader","headerTitle","getFilters","sortAndFilterIds","userIds","toLowerCase","includes","toString","header","actions","filters","PageLeaveWarning","giveWarning","onbeforeunload","returnValue","when","GroupData","handleClickAway","anchorEl","showTeacherCard","currentTarget","Divider","studyTime","teacherName","startTime","endTime","colorPrimary","primary","main","colorSecondary","colorError","NotificationBadge","classes","tooltipMessage","j","withStyles","not","RegExp","err","SelectUser","GroupPage","acceptEnrollment","addParticipant","addNewParticipant","newParticipant","participatingRole","handleNewParticipantRoleChange","handleNewParticipantIdChange","handleExternalGroupChange","newGroup","JSON","stringify","handleLessonChange","handleEvaluationChange","handlePresenceChange","presenceObj","setEditable","cancel","save","setGroup","handleTab","newTab","tabs","openCertificate","userIsMemberOfGroup","currentTab","tableLayout","canAddNewParticipant","cantAddReason","UserField","getData","getGroupEnrollments","getGroupLessons","getGroupParticipants","getGroupPresence","getGroupEvaluations","AppBar","Tabs","indicatorColor","textColor","centered","tab","Tab","getCurrentTab","values","queryString","parse","Group","notExists","getGroup","participatingGroupIds","getCourse","getCourseGroup","oldCourse","newCourse","oldCourseGroup","newCourseGroup","oldLessons","newLessons","oldPresence","newPresence","oldEvaluations","changedPresenceObjs","changedEvaluations","participants","CourseSelect","handleSortChange","handlePeriodChange","handleYearChange","leerjaar","ListItem","button","ListItemText","minWidth","subjectsComponents","getMenuItem","enrolledGroupsIds","enrolledGroups","getGroupsPerSubject","Toolbar","marginLeft","List","getMenuItems","blok","vak","splitOnDefault","courseIds","DataPage","handleShowData","splitOn","tables","splitTable","tableSortColumns","handleFilterChange","handleSplitChange","oldTables","newTables","flat","tableIndex","table","column","order","tableSortDirections","columnIndex","splitValue","splitIndex","findIndex","halfSplitTable","downloadTables","workbook","Excel","Workbook","sheetName","getValidWorksheetName","sheet","addWorksheet","addRows","getColumn","filename","toLocaleDateString","downloadWorkbook","log","illegalCharacters","fileName","xlsx","writeBuffer","base64","xls64","createElement","Blob","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","forceCellWidth","cellName","Table","TableHead","TableRow","TableCell","top","TableBody","_","row","rowIndex","cell","IconButton","VerticalAlignBottom","Taxi","fetchSchedules","schedules","week","s","dangerouslySetInnerHTML","__html","n","Header","logoClick","aria-label","src","alt","right","handleClick","transform","marginRight","NotificationBar","Snackbar","anchorOrigin","vertical","horizontal","TransitionProps","SnackbarContent","background","marginBottom","bottom","Menu","pages","reload","logout","iconName","isCurrentPage","icon","ListItemIcon","getIcon","visiblePages","getItem","visibleProfile","Portfolio","compareFunction","orders","getOrder","splice","groupIds","orderGroups","ControlPanel","mapPageToListItem","pageName","handlePageChange","getContent","courses","Alias","aliasId","Subject","Course","course","teacherId","PersonalData","u","editableAdmin","isAdmin","editableUser","Alert","severity","EducationData","reducedChoices","reduceChoices","autoFilledUser","CONS","cloneDeep","userValue","intersection","o1","o2","r","aa","getField","availableRoles","ExamSubjects","toggleDialog","isDialogOpen","newSubjectId","newSubjectProfile","newSubjectStartYear","isEditDialog","newState","isValid","updateExamSubjects","examSubjects","inProfile","startSchoolYear","removeExamSubject","editExamSubject","examSubject","getExamSubjectListItem","textAlign","Edit","Delete","getDialog","availableSubjects","canDoExam","onClose","dividers","isStudent","autoFocus","examSubjectComponents","startIcon","Add","OtherData","getRoleSwitchComponent","roles","isOwn","newRole","getRequestProfileUpdateComponent","FormControlLabel","control","Checkbox","checked","needsProfileUpdate","LoginProvider","from","beforeLoginPath","Saveable","onSave","hasChanged","editIfSecure","isSecure","showBanner","Profile","componentDidMount","getUser","componentDidUpdate","setUser","U","setSelf","PriorityHigh","orgUser","isGradeAdmin","isFull","Certificate","generatedPdf","images","course_header","portfolio_header","signature","quadraam_logo","imageData","Image","onload","pdf","jspdf","orientation","format","putOnlyUsedFonts","floatPrecision","hasOwnProperty","addPage","page_count","setFontSize","setFont","addImage","text","align","setFontStyle","maxWidth","addPortfolioTableHeader","heightOffset","maxLines","grade","portfolioBasePage","makeBase","topHeight","time","setTextColor","isModuleCertificate","addModule","addPortfolio","fixPageCount","getEnrollments","doGenerate","UserListPage","App","getSelf","startPage","getStartPage","path","to","GlobalProvider","store","compose","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","reduxCompose","createStore","reducer","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cfed1a7e.chunk.js","sourcesContent":["const DEFAULT_USERS = {\n}\n\nfunction usersReducer(users = DEFAULT_USERS, action) {\n\tswitch (action.type) {\n\t\tcase \"CHANGE_USERS\":\n\t\t\tconst newUsers = users;\n\t\t\tfor (const x in action.users) {\n\t\t\t\tnewUsers[x] = { ...newUsers[x], ...action.users[x] }\n\t\t\t}\n\t\t\treturn newUsers;\n\t\tcase \"CHANGE_USER\":\n\t\t\treturn {\n\t\t\t\t...users,\n\t\t\t\t[action.user.id]: {\n\t\t\t\t\t...users[action.user.id],\n\t\t\t\t\t...action.user\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"CHANGE_ENROLLMENTS\":\n\t\t\tif (action.action === \"ADD\") {\n\t\t\t\treturn {\n\t\t\t\t\t...users,\n\t\t\t\t\t[action.userId]: {\n\t\t\t\t\t\t...users[action.userId],\n\t\t\t\t\t\tenrollmentIds: (users[action.userId].enrollmentIds || []).concat(action.groupId)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (action.action === \"REMOVE\") {\n\t\t\t\tconst index = users[action.userId].enrollmentIds.indexOf(action.groupId);\n\t\t\t\treturn {\n\t\t\t\t\t...users,\n\t\t\t\t\t[action.userId]: {\n\t\t\t\t\t\t...users[action.userId],\n\t\t\t\t\t\tenrollmentIds: [\n\t\t\t\t\t\t\t...users[action.userId].enrollmentIds.slice(0, index),\n\t\t\t\t\t\t\t...users[action.userId].enrollmentIds.slice(index + 1),\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...users,\n\t\t\t\t[action.userId]: {\n\t\t\t\t\t...users[action.userId],\n\t\t\t\t\tenrollmentIds: action.enrollmentIds,\n\t\t\t\t}\n\t\t\t}\n\t\tdefault:\n\t\t\treturn users;\n\t}\n}\n\n\nexport default usersReducer;","const DEFAULT_GROUPS = {\n}\n\nfunction usersReducer(groups = DEFAULT_GROUPS, action) {\n\tswitch (action.type) {\n\t\tcase \"CHANGE_GROUPS\":\n\t\t\tlet newGroups = { ...groups };\n\t\t\tfor (const key in action.groups) {\n\t\t\t\tnewGroups[key] = { ...newGroups[key], ...action.groups[key] };\n\t\t\t}\n\t\t\treturn newGroups;\n\t\tcase \"CHANGE_GROUP\":\n\t\t\treturn {\n\t\t\t\t...groups,\n\t\t\t\t[action.group.id]: {\n\t\t\t\t\t...groups[action.group.id],\n\t\t\t\t\t...action.group\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"CHANGE_PRESENCE_USER_STATUS\":\n\t\t\treturn {\n\t\t\t\t...groups,\n\t\t\t\t[action.groupId]: {\n\t\t\t\t\t...groups[action.groupId],\n\t\t\t\t\tlessons: {\n\t\t\t\t\t\t...groups[action.groupId].lessons,\n\t\t\t\t\t\t[action.lessonId]: {\n\t\t\t\t\t\t\t...groups[action.groupId].lessons[action.lessonId],\n\t\t\t\t\t\t\tuserStatus: action.userStatus,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\tdefault:\n\t\t\treturn groups;\n\t}\n}\n\n\nexport default usersReducer;","import usersReducer from \"./usersReducer\";\nimport groupsReducer from \"./groupsReducer\";\n\nconst DEFAULT_STATE = {\n  currentPeriod: 3,\n  enrollmentPeriod: 4,\n  schoolYear: \"2020/2021\",\n  possibleYears: generateYears(\"2020/2021\"),\n\n  userId: null,\n  enrollableGroups: null,\n  subjects: null,\n  groups: null,\n  users: null,\n  showMenu: true,\n  notifications: [],\n  hasFetched: []\n};\n\nfunction generateYears(currentYear) {\n  const FIRST_YEAR = 2016;\n  const yearOffset = 5;\n  const yearMax = parseInt(currentYear.split(\"/\")[0]) + yearOffset;\n  let years = [];\n  for (let i = FIRST_YEAR; i < yearMax; i++) {\n    years.push(i + \"/\" + (i + 1))\n  }\n  return years;\n}\n\nfunction mainReducer(state = DEFAULT_STATE, action) {\n  switch (action.type) {\n    case \"SET_SELF\":\n      return {\n        ...state,\n        userId: action.user.id,\n        role: action.user.role,\n        notifications: [...state.notifications, ...action.user.notifications],\n        users: {\n          [action.user.id]: action.user,\n          ...state.users\n        }\n      };\n    case \"SET_SECURE_LOGIN\":\n      return {\n        ...state,\n        secureLogin: action.secureLogin\n      };\n    case \"ADD_NOTIFICATION\":\n      return {\n        ...state,\n        notifications: [...state.notifications, action.notification]\n      };\n    case \"REMOVE_NOTIFICATION\":\n      const index = state.notifications.indexOf(action.notification);\n      return {\n        ...state,\n        notifications: [\n          ...state.notifications.slice(0, index),\n          ...state.notifications.slice(index + 1)\n        ]\n      };\n    case \"TOGGLE_MENU\":\n      if (action.menuState != null) {\n        return { ...state, showMenu: action.menuState };\n      } else {\n        return { ...state, showMenu: !state.showMenu };\n      }\n    case \"HAS_FETCHED\":\n      return {\n        ...state,\n        hasFetched: [\n          ...state.hasFetched,\n          { call: action.call, method: action.method, data: action.data }\n        ]\n      };\n    case \"CHANGE_SUBJECTS\":\n      return { ...state, subjects: { ...state.subjects, ...action.subjects } };\n    default:\n      return {\n        ...state,\n        users: usersReducer(state.users, action),\n        groups: groupsReducer(state.groups, action)\n      };\n  }\n}\n\nexport default mainReducer;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\n// const theme = createMuiTheme({\n// \tpalette: {\n// \t\tprimary: {\n// \t\t\t// light: '#5472d3',\n// \t\t\tmain: '#0d47a1',\n// \t\t\t// dark: '#002171',\n// \t\t\tcontrastText: '#fff',\n// \t\t},\n// \t\tsecondary: {\n// \t\t\t// light: '#60ad5e',\n// \t\t\tmain: '#2e7d32',\n// \t\t\t// dark: '#005005',\n// \t\t\tcontrastText: '#ffffff',\n// \t\t},\n// \t},\n// });\n\nconst theme = createMuiTheme({\n\t\"breakpoints\": {\n\t\t\"keys\": [\n\t\t\t\"xs\",\n\t\t\t\"sm\",\n\t\t\t\"md\",\n\t\t\t\"lg\",\n\t\t\t\"xl\"\n\t\t],\n\t\t\"values\": {\n\t\t\t\"xs\": 0,\n\t\t\t\"sm\": 600,\n\t\t\t\"md\": 960,\n\t\t\t\"lg\": 1280,\n\t\t\t\"xl\": 1920\n\t\t}\n\t},\n\t\"direction\": \"ltr\",\n\t\"mixins\": {\n\t\t\"toolbar\": {\n\t\t\t\"minHeight\": 56,\n\t\t\t\"@media (min-width:0px) and (orientation: landscape)\": {\n\t\t\t\t\"minHeight\": 48\n\t\t\t},\n\t\t\t\"@media (min-width:600px)\": {\n\t\t\t\t\"minHeight\": 64\n\t\t\t}\n\t\t}\n\t},\n\t\"overrides\": {},\n\t\"palette\": {\n\t\t\"common\": {\n\t\t\t\"black\": \"#000\",\n\t\t\t\"white\": \"#fff\"\n\t\t},\n\t\t\"type\": \"light\",\n\t\t\"primary\": {\n\t\t\t\"main\": \"#1FB2FF\", /* 'Blauw' */\n\t\t\t\"contrastText\": \"#fff\",\n\t\t\t\"light\": \"rgb(10, 252, 254)\", /* 'Digitaal blauw' */\n\t\t\t\"dark\": \"rgb(5, 140, 174)\"\n\t\t},\n\t\t// \"secondary\": {\n\t\t// \t\"main\": \"#C3386B\",\n\t\t// \t\"contrastText\": \"#ffffff\",\n\t\t// \t\"light\": \"rgb(207, 95, 136)\",\n\t\t// \t\"dark\": \"rgb(136, 39, 74)\"\n\t\t// },\n\t\t\"secondary\": {\n\t\t\t\"main\": \"#c4112f\",\n\t\t\t\"contrastText\": \"#fff\",\n\t\t\t\"light\": \"#cf4058\",\n\t\t\t\"dark\": \"#890b20\"\n\t\t},\n\t\t\"error\": {\n\t\t\t\"light\": \"#f89e4c\",\n\t\t\t\"main\": \"#f78620\",\n\t\t\t\"dark\": \"#ac5d16\",\n\t\t\t\"contrastText\": \"#fff\"\n\t\t},\n\t\t\"grey\": {\n\t\t\t\"50\": \"#fafafa\",\n\t\t\t\"100\": \"#f5f5f5\",\n\t\t\t\"200\": \"#eeeeee\",\n\t\t\t\"300\": \"#e0e0e0\",\n\t\t\t\"400\": \"#bdbdbd\",\n\t\t\t\"500\": \"#9e9e9e\",\n\t\t\t\"600\": \"#757575\",\n\t\t\t\"700\": \"#616161\",\n\t\t\t\"800\": \"#424242\",\n\t\t\t\"900\": \"#212121\",\n\t\t\t\"A100\": \"#d5d5d5\",\n\t\t\t\"A200\": \"#aaaaaa\",\n\t\t\t\"A400\": \"#303030\",\n\t\t\t\"A700\": \"#616161\"\n\t\t},\n\t\t\"contrastThreshold\": 3,\n\t\t\"tonalOffset\": 0.2,\n\t\t\"text\": {\n\t\t\t\"primary\": \"rgba(0, 0, 0, 0.87)\",\n\t\t\t\"secondary\": \"rgba(0, 0, 0, 0.54)\",\n\t\t\t\"disabled\": \"rgba(0, 0, 0, 0.38)\",\n\t\t\t\"hint\": \"rgba(0, 0, 0, 0.38)\"\n\t\t},\n\t\t\"divider\": \"rgba(0, 0, 0, 0.12)\",\n\t\t\"background\": {\n\t\t\t\"paper\": \"#fff\",\n\t\t\t\"default\": \"#fafafa\"\n\t\t},\n\t\t\"action\": {\n\t\t\t\"active\": \"rgba(0, 0, 0, 0.54)\",\n\t\t\t\"hover\": \"rgba(0, 0, 0, 0.08)\",\n\t\t\t\"hoverOpacity\": 0.08,\n\t\t\t\"selected\": \"rgba(0, 0, 0, 0.14)\",\n\t\t\t\"disabled\": \"rgba(0, 0, 0, 0.26)\",\n\t\t\t\"disabledBackground\": \"rgba(0, 0, 0, 0.12)\"\n\t\t}\n\t},\n\t\"props\": {},\n\t\"shadows\": [\n\t\t\"none\",\n\t\t\"0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 1px 5px 0px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 3px 1px -2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 1px 8px 0px rgba(0, 0, 0, 0.2),0px 3px 4px 0px rgba(0, 0, 0, 0.14),0px 3px 3px -2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 5px 8px 0px rgba(0, 0, 0, 0.14),0px 1px 14px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 4px 5px -2px rgba(0, 0, 0, 0.2),0px 7px 10px 1px rgba(0, 0, 0, 0.14),0px 2px 16px 1px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 5px 6px -3px rgba(0, 0, 0, 0.2),0px 9px 12px 1px rgba(0, 0, 0, 0.14),0px 3px 16px 2px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 6px 6px -3px rgba(0, 0, 0, 0.2),0px 10px 14px 1px rgba(0, 0, 0, 0.14),0px 4px 18px 3px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 6px 7px -4px rgba(0, 0, 0, 0.2),0px 11px 15px 1px rgba(0, 0, 0, 0.14),0px 4px 20px 3px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 13px 19px 2px rgba(0, 0, 0, 0.14),0px 5px 24px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 7px 9px -4px rgba(0, 0, 0, 0.2),0px 14px 21px 2px rgba(0, 0, 0, 0.14),0px 5px 26px 4px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 9px -5px rgba(0, 0, 0, 0.2),0px 15px 22px 2px rgba(0, 0, 0, 0.14),0px 6px 28px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 8px 11px -5px rgba(0, 0, 0, 0.2),0px 17px 26px 2px rgba(0, 0, 0, 0.14),0px 6px 32px 5px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 9px 11px -5px rgba(0, 0, 0, 0.2),0px 18px 28px 2px rgba(0, 0, 0, 0.14),0px 7px 34px 6px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 9px 12px -6px rgba(0, 0, 0, 0.2),0px 19px 29px 2px rgba(0, 0, 0, 0.14),0px 7px 36px 6px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 20px 31px 3px rgba(0, 0, 0, 0.14),0px 8px 38px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 13px -6px rgba(0, 0, 0, 0.2),0px 21px 33px 3px rgba(0, 0, 0, 0.14),0px 8px 40px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 10px 14px -6px rgba(0, 0, 0, 0.2),0px 22px 35px 3px rgba(0, 0, 0, 0.14),0px 8px 42px 7px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 11px 14px -7px rgba(0, 0, 0, 0.2),0px 23px 36px 3px rgba(0, 0, 0, 0.14),0px 9px 44px 8px rgba(0, 0, 0, 0.12)\",\n\t\t\"0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0, 0, 0, 0.12)\"\n\t],\n\t\"typography\": {\n\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\"fontSize\": 14,\n\t\t\"fontWeightLight\": 300,\n\t\t\"fontWeightRegular\": 400,\n\t\t\"fontWeightMedium\": 500,\n\t\t\"h1\" : {\n\t\t\t\"fontFamily\": \"\\\"Avenir-Black\\\", \\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"0.01em\",\n\t\t},\n\t\t\"display4\": {\n\t\t\t\"fontSize\": \"7rem\",\n\t\t\t\"fontWeight\": 300,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"-.04em\",\n\t\t\t\"lineHeight\": \"1.14286em\",\n\t\t\t\"marginLeft\": \"-.04em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display3\": {\n\t\t\t\"fontSize\": \"3.5rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"letterSpacing\": \"-.02em\",\n\t\t\t\"lineHeight\": \"1.30357em\",\n\t\t\t\"marginLeft\": \"-.02em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display2\": {\n\t\t\t\"fontSize\": \"2.8125rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.06667em\",\n\t\t\t\"marginLeft\": \"-.02em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"display1\": {\n\t\t\t\"fontSize\": \"2.125rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.20588em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"headline\": {\n\t\t\t\"fontSize\": \"1.5rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.35417em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"title\": {\n\t\t\t\"fontSize\": \"1.3125rem\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.16667em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"subheading\": {\n\t\t\t\"fontSize\": \"1rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.5em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"body2\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.71429em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"body1\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.46429em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t},\n\t\t\"caption\": {\n\t\t\t\"fontSize\": \"0.75rem\",\n\t\t\t\"fontWeight\": 400,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"lineHeight\": \"1.375em\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.54)\"\n\t\t},\n\t\t\"button\": {\n\t\t\t\"fontSize\": \"0.875rem\",\n\t\t\t\"textTransform\": \"uppercase\",\n\t\t\t\"fontWeight\": 500,\n\t\t\t\"fontFamily\": \"\\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif\",\n\t\t\t\"color\": \"rgba(0, 0, 0, 0.87)\"\n\t\t}\n\t},\n\t\"transitions\": {\n\t\t\"easing\": {\n\t\t\t\"easeInOut\": \"cubic-bezier(0.4, 0, 0.2, 1)\",\n\t\t\t\"easeOut\": \"cubic-bezier(0.0, 0, 0.2, 1)\",\n\t\t\t\"easeIn\": \"cubic-bezier(0.4, 0, 1, 1)\",\n\t\t\t\"sharp\": \"cubic-bezier(0.4, 0, 0.6, 1)\"\n\t\t},\n\t\t\"duration\": {\n\t\t\t\"shortest\": 150,\n\t\t\t\"shorter\": 200,\n\t\t\t\"short\": 250,\n\t\t\t\"standard\": 300,\n\t\t\t\"complex\": 375,\n\t\t\t\"enteringScreen\": 225,\n\t\t\t\"leavingScreen\": 195\n\t\t}\n\t},\n\t\"spacing\": 8,\n\t\"zIndex\": {\n\t\t\"mobileStepper\": 1000,\n\t\t\"appBar\": 1100,\n\t\t\"drawer\": 1200,\n\t\t\"modal\": 1300,\n\t\t\"snackbar\": 1400,\n\t\t\"tooltip\": 1500\n\t}\n});\n\nexport default theme;","import filter from \"lodash/filter\"\nimport $ from \"jquery\";\nimport keyBy from \"lodash/keyBy\"\nimport map from \"lodash/map\"\n\nfunction apiErrorHandler(endpoint, dispatch) {\n\treturn function handleError(error) {\n\t\tconst responseJSON = error.responseJSON;\n\t\tif (endpoint !== \"user/self\") {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\tnotification: {\n\t\t\t\t\tid: Math.random(),\n\t\t\t\t\tpriority: \"high\",\n\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\tmessage: responseJSON && responseJSON.error ? responseJSON.error : \"Er is iets mis gegaan\",\n\t\t\t\t\tscope: \".\",\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthrow responseJSON;\n\t}\n}\n\nexport async function fetchData(endpoint, method, data, dispatch, getState, forceArray) {\n\tconst f = {\n\t\tcall: endpoint,\n\t\tmethod: method,\n\t\tdata: data,\n\t}\n\tfor (let i = 0; i < getState().hasFetched.length; i++) {\n\t\tconst o = getState().hasFetched[i];\n\t\tif (o.data === f.data && o.call === f.call && o.method === f.method) {\n\t\t\tconsole.error(`Duplicate api call: ${method} ${endpoint}`);\n\t\t}\n\t};\n\tdispatch({\n\t\t...f,\n\t\ttype: \"HAS_FETCHED\",\n\t});\n\n\treturn $.ajax({\n\t\turl: \"/api/\" + endpoint,\n\t\ttype: method,\n\t\tdata: {\n\t\t\t...data,\n\t\t\tsecureLogin: getState().secureLogin\n\t\t},\n\t\tdataType: \"json\",\n\t}).then((list) => {\n\t\tif (method === \"put\" || method === \"patch\" || method === \"delete\") {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\tnotification: {\n\t\t\t\t\tid: Math.random(),\n\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\tmessage: \"Opgeslagen\",\n\t\t\t\t\tscope: \"\",\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (Array.isArray(list) && forceArray !== true) ? keyBy(list, \"id\") : list\n\t}).catch(apiErrorHandler(endpoint, dispatch));\n}\n\n\nexport function getSubjects() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"subject/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((subjects) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_SUBJECTS\",\n\t\t\t\t\tsubjects,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function setAlias(userId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"function/alias\", \"post\", { userId }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdocument.location.reload();\n\t\t\t})\n\t}\n}\n\nexport function switchRole(newRole) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"function/switchRole\", \"post\", { newRole }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdocument.location.reload();\n\t\t\t})\n\t}\n}\n\nexport function getGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((groups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getParticipatingGroups() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/groups\", \"get\", null, dispatch, getState)\n\t\t\t.then((groups) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroup(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((group) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups: { [groupId]: group }\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nfunction testIE(dispatch) {\n\tif (/MSIE|Trident/.test(window.navigator.userAgent)) {\n\t\tdispatch({\n\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\tnotification: {\n\t\t\t\tid: Math.random(),\n\t\t\t\tpriority: \"high\",\n\t\t\t\ttype: \"bar\",\n\t\t\t\tmessage: \"Deze website ondersteunt Internet Explorer niet. Gebruik een moderne browser zoals Firefox of Chrome\",\n\t\t\t\tsticky: true,\n\t\t\t\tscope: \"\",\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function getSelf() {\n\treturn (dispatch, getState) => {\n\t\tconst notification = {\n\t\t\tid: -96,\n\t\t\tpriority: \"low\",\n\t\t\ttype: \"bar\",\n\t\t\tmessage: \"Bezig met laden\",\n\t\t\tscope: \".\",\n\t\t};\n\t\tdispatch(addNotification(notification));\n\t\tfetchData(\"user/self\", \"get\", null, dispatch, getState)\n\t\t\t.then((user) => {\n\t\t\t\ttestIE(dispatch);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SET_SELF\",\n\t\t\t\t\tuser,\n\t\t\t\t});\n\t\t\t\tdispatch(removeNotification(notification));\n\t\t\t}).catch((error) => {\n\t\t\t\ttestIE(dispatch);\n\t\t\t\tdispatch(removeNotification(notification));\n\t\t\t\tif (error != null && error.error === \"Authentication Error\") {\n\t\t\t\t\tif (window.location.pathname !== \"/login\") {\n\t\t\t\t\t\tsetCookie(\"beforeLoginPath\", window.location.pathname + window.location.search, 24);\n\t\t\t\t\t\tdocument.location.href = \"/login\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(toggleMenu(false));\n\t\t\t\t\tdispatch(addNotification({\n\t\t\t\t\t\tid: -1,\n\t\t\t\t\t\tpriority: \"high\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Kan geen verbinding met de server maken\",\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\t}\n}\n\n\n\nexport function setSelf(user) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_USER\",\n\t\t\tuser,\n\t\t});\n\t\tfetchData(\"user/self\", \"patch\", user, dispatch, getState);\n\t}\n}\nexport function getUser(userId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user\", \"post\", { userId }, dispatch, getState).then(user => {\n\t\t\tdispatch({\n\t\t\t\ttype: \"CHANGE_USER\",\n\t\t\t\tuser,\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport function setUser(user) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_USER\",\n\t\t\tuser,\n\t\t});\n\t\tfetchData(\"user\", \"patch\", { userId: user.id, ...user }, dispatch, getState);\n\t}\n}\n\nexport function setPresenceUserStatus(lessonId, userStatus, groupId) {\n\treturn (dispatch, getState) => {\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_PRESENCE_USER_STATUS\",\n\t\t\tlessonId,\n\t\t\tuserStatus,\n\t\t\tgroupId,\n\t\t});\n\t\tfetchData(\"group/userStatus\", \"patch\", { lessonId: lessonId, userStatus: userStatus }, dispatch, getState);\n\t}\n}\n\nexport function setGroup(group) {\n\treturn (dispatch, getState) => {\n\t\tfunction getCourse(group) {\n\t\t\treturn {\n\t\t\t\tcourseId: group.courseId,\n\t\t\t\tsubjectId: group.subjectId,\n\t\t\t\tname: group.courseName,\n\t\t\t\tdescription: group.courseDescription,\n\t\t\t\tstudyTime: group.studyTime,\n\t\t\t\tremarks: group.remarks,\n\t\t\t}\n\t\t}\n\n\t\tfunction getCourseGroup(group) {\n\t\t\treturn {\n\t\t\t\tcourseId: group.courseId,\n\t\t\t\tgroupId: group.id,\n\t\t\t\tday: group.day,\n\t\t\t\tschoolYear: group.schoolYear,\n\t\t\t\tenrollableFor: group.enrollableFor,\n\t\t\t\tperiod: group.period,\n\t\t\t\tstartTime: group.startTime,\n\t\t\t\tendTime: group.endTime,\n\t\t\t}\n\t\t}\n\n\t\tconst oldCourse = getCourse(getState().groups[group.id]);\n\t\tconst newCourse = getCourse(group);\n\n\t\tconst oldCourseGroup = getCourseGroup(getState().groups[group.id]);\n\t\tconst newCourseGroup = getCourseGroup(group);\n\n\t\tconst oldLessons = getState().groups[group.id].lessons;\n\t\tconst newLessons = group.lessons;\n\n\t\tconst oldPresence = getState().groups[group.id].presence;\n\t\tconst newPresence = group.presence;\n\n\t\tconst oldEvaluations = getState().groups[group.id].evaluations;\n\t\tconst newEvaluations = group.evaluations;\n\n\t\tif (JSON.stringify(oldCourse) !== JSON.stringify(newCourse)) {\n\t\t\tfetchData(\"course\", \"patch\", newCourse, dispatch, getState);\n\t\t}\n\t\tif (JSON.stringify(oldCourseGroup) !== JSON.stringify(newCourseGroup)) {\n\t\t\tfetchData(\"group\", \"patch\", newCourseGroup, dispatch, getState);\n\t\t}\n\n\t\tif (JSON.stringify(oldPresence) !== JSON.stringify(newPresence)) {\n\t\t\tconst changedPresenceObjs = filter(newPresence, (presence) => {\n\t\t\t\treturn JSON.stringify(presence) !== JSON.stringify(oldPresence[presence.id]);\n\t\t\t});\n\t\t\tfetchData(\"group/presence\", \"patch\",\n\t\t\t\t{\n\t\t\t\t\tpresence: JSON.stringify(map(changedPresenceObjs, (changedPresenceObjs) => { return changedPresenceObjs })),\n\t\t\t\t\tgroupId: group.id\n\t\t\t\t}, dispatch, getState);\n\t\t}\n\n\t\tif (newLessons != null && JSON.stringify(oldLessons) !== JSON.stringify(newLessons)) {\n\t\t\tfetchData(\"group/lessons\", \"patch\", { lessons: JSON.stringify(map(newLessons, (lesson) => { return lesson })), }, dispatch, getState);\n\t\t}\n\n\t\tif (JSON.stringify(oldEvaluations) !== JSON.stringify(newEvaluations)) {\n\t\t\tlet changedEvaluations = [];\n\t\t\tfor (let i = 0; i < newEvaluations.length; i++) {\n\t\t\t\tconst evaluation = newEvaluations[i];\n\t\t\t\tif (JSON.stringify(oldEvaluations[i]) !== JSON.stringify(evaluation)) {\n\t\t\t\t\tchangedEvaluations.push(evaluation);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfetchData(\"group/evaluations\", \"patch\", {\n\t\t\t\tevaluations: JSON.stringify(changedEvaluations),\n\t\t\t\tgroupId: group.id,\n\t\t\t}, dispatch, getState);\n\t\t}\n\n\t\tdispatch({\n\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\tgroup: group,\n\t\t});\n\t}\n}\n\nexport function getEnrolLments() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/enrollments\", \"get\", null, dispatch, getState)\n\t\t\t.then((enrollments) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUPS\",\n\t\t\t\t\tgroups: enrollments,\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\tenrollmentIds: Object.keys(enrollments),\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroupEnrollments(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/enrollments\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((enrollments) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tenrollmentIds: Object.keys(enrollments).map(id => parseInt(id, 10)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers: enrollments,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function getGroupLessons(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/lessons\", \"post\", { groupId }, dispatch, getState)\n\t\t\t.then((lessons) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tlessons,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getGroupPresence(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/presence\", \"post\", { groupId }, dispatch, getState)\n\t\t\t.then((presence) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tpresence,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getGroupParticipants(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/participants\", \"post\", { groupId: groupId }, dispatch, getState)\n\t\t\t.then((participants) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tparticipantIds: Object.keys(participants).map(id => parseInt(id, 10)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers: participants,\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function getAllUsers() {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"user/list\", \"get\", null, dispatch, getState)\n\t\t\t.then((users) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_USERS\",\n\t\t\t\t\tusers,\n\t\t\t\t});\n\t\t\t}).catch(() => { });\n\t}\n}\n\nexport function addNotification(notification) {\n\treturn {\n\t\ttype: \"ADD_NOTIFICATION\",\n\t\tnotification,\n\t}\n}\n\nexport function removeNotification(notification) {\n\treturn {\n\t\ttype: \"REMOVE_NOTIFICATION\",\n\t\tnotification,\n\t}\n}\n\nexport function toggleMenu(menuState) {\n\treturn {\n\t\ttype: \"TOGGLE_MENU\",\n\t\tmenuState,\n\t}\n}\n\nexport function setSecureLogin(secureLogin) {\n\treturn {\n\t\ttype: \"SET_SECURE_LOGIN\",\n\t\tsecureLogin,\n\t}\n}\n\nexport function toggleEnrollment(group) {\n\treturn (dispatch, getState) => {\n\t\tconst index = getState().users[getState().userId].enrollmentIds.indexOf(group.id);\n\t\tif (index === -1) {\n\t\t\tfetchData(\"user/enrollments\", \"put\", { groupId: group.id }, dispatch, getState)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\t\taction: \"ADD\",\n\t\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\t\tgroupId: group.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t} else {\n\t\t\tfetchData(\"user/enrollments\", \"delete\", { groupId: group.id }, dispatch, getState)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: \"CHANGE_ENROLLMENTS\",\n\t\t\t\t\t\taction: \"REMOVE\",\n\t\t\t\t\t\tuserId: getState().userId,\n\t\t\t\t\t\tgroupId: group.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t}\n}\n\n\nexport function getGroupEvaluations(groupId) {\n\treturn (dispatch, getState) => {\n\t\tfetchData(\"group/evaluations\", \"post\", { groupId }, dispatch, getState, true).then((evaluations) => {\n\t\t\tdispatch({\n\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\tgroup: {\n\t\t\t\t\tid: groupId,\n\t\t\t\t\tevaluations: evaluations,\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport function addSubject(name, description) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"subject\", \"put\", { name, description }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Vak aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function addCourse(name, subjectId) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"course\", \"put\", { name, subjectId }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Module aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function addGroup(courseId, userId) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"group\", \"put\", { courseId, mainTeacherId: userId }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Groep aangemaakt, refresh om te zien\",\n\t\t\t\t\t\tscope: \"beheer\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\n\nexport function addParticipant(userId, groupId, participatingRole) {\n\treturn (dispatch, getState) => {\n\t\treturn fetchData(\"group/participants\", \"patch\", { userId, groupId, participatingRole }, dispatch, getState)\n\t\t\t.then(() => {\n\t\t\t\tconst index = getState().groups[groupId].enrollmentIds.indexOf(userId);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"CHANGE_GROUP\",\n\t\t\t\t\tgroup: {\n\t\t\t\t\t\tid: groupId,\n\t\t\t\t\t\tenrollmentIds: [\n\t\t\t\t\t\t\t...getState().groups[groupId].enrollmentIds.slice(0, index),\n\t\t\t\t\t\t\t...getState().groups[groupId].enrollmentIds.slice(index + 1)\n\t\t\t\t\t\t],\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"ADD_NOTIFICATION\",\n\t\t\t\t\tnotification: {\n\t\t\t\t\t\tid: Math.random(),\n\t\t\t\t\t\tpriority: \"low\",\n\t\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\t\tmessage: \"Deelnemer toegevoegd, refresh om te zien\",\n\t\t\t\t\t\tscope: \"*\",\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n}\n\nexport function setCookie(cname, cvalue, exhours) {\n\tvar d = new Date();\n\td.setTime(d.getTime() + (exhours * 60 * 60 * 1000));\n\tvar expires = \"expires=\" + d.toUTCString();\n\tdocument.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n}\n\nexport function getCookie(cname) {\n\tvar name = cname + \"=\";\n\tvar decodedCookie = decodeURIComponent(document.cookie);\n\tvar ca = decodedCookie.split(';');\n\tfor (var i = 0; i < ca.length; i++) {\n\t\tvar c = ca[i];\n\t\twhile (c.charAt(0) === ' ')\n\t\t\tc = c.substring(1);\n\t\tif (c.indexOf(name) === 0)\n\t\t\treturn c.substring(name.length, c.length);\n\t}\n\treturn \"\";\n}\n\nexport function relogSecure() {\n\tsetCookie(\"beforeLoginPath\", window.location.pathname + window.location.search, 24);\n\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\tdocument.location.href = \"http://localhost:26194/auth/login?secure=true\";\n\t} else {\n\t\tdocument.location.href = \"/auth/login?secure=true\";\n\t}\n}","import React, { Component } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport theme from '../lib/MuiTheme';\nimport { toggleMenu } from '../store/actions';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.generateEmail.bind(this)();\n\t\tthis.interval = setInterval(this.generateEmail.bind(this), 1500);\n\t}\n\n\tgenerateEmail() {\n\t\tlet school = this.state.school;\n\t\tlet schoolShort = this.state.schoolShort;\n\t\tlet studentNumber = this.state.studentNumber;\n\t\tswitch (Math.floor(Math.random() * 14)) {\n\t\t\tcase 0:\n\t\t\t\tschool = \"beekdallyceum\";\n\t\t\t\tschoolShort = \"BD\";\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tschool = \"candea\";\n\t\t\t\tschoolShort = \"CC\";\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tschool = \"quadraam\";\n\t\t\t\tschoolShort = \"CB\";\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tschool = \"lyceumelst\";\n\t\t\t\tschoolShort = \"LE\";\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tschool = \"liemerscollege\";\n\t\t\t\tschoolShort = \"LC\";\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tschool = \"lorentzlyceum\";\n\t\t\t\tschoolShort = \"LL\";\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tschool = \"maartenvanrossem\";\n\t\t\t\tschoolShort = \"MvR\";\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tschool = \"montessoriarnhem\";\n\t\t\t\tschoolShort = \"MC\";\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tschool = \"olympuscollege\";\n\t\t\t\tschoolShort = \"OC\";\n\t\t\t\tbreak;\n\t\t\tcase 9:\n\t\t\t\tschool = \"produsarnhem\";\n\t\t\t\tschoolShort = \"PD\";\n\t\t\t\tbreak;\n\t\t\tcase 10:\n\t\t\t\tschool = \"gymnasiumarnhem\";\n\t\t\t\tschoolShort = \"SGA\";\n\t\t\t\tbreak;\n\t\t\tcase 11:\n\t\t\t\tschool = \"symbion\";\n\t\t\t\tschoolShort = \"SY\";\n\t\t\t\tbreak;\n\t\t\tcase 12:\n\t\t\t\tschool = \"vmbo-venster\";\n\t\t\t\tschoolShort = \"VE\";\n\t\t\t\tbreak;\n\t\t\tcase 13:\n\t\t\tdefault:\n\t\t\t\tschool = \"hetwesteraam\";\n\t\t\t\tschoolShort = \"HW\";\n\t\t\t\tbreak;\n\t\t}\n\t\tstudentNumber = Math.floor(Math.random() * 999999) + \"\";\n\t\tfor (let i = studentNumber.length; i < 6; i++) {\n\t\t\tstudentNumber = \"0\" + studentNumber;\n\t\t}\n\t\tthis.setState({\n\t\t\tschool,\n\t\t\tschoolShort,\n\t\t\tstudentNumber,\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interval);\n\t}\n\n\tlogin() {\n\t\tif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n\t\t\tdocument.location.href = \"http://localhost:26194/auth/login\"\n\t\t} else {\n\t\t\tdocument.location.href = \"/auth/login\"\n\t\t}\n\t}\n\n\tgenerateColoredEmail(schoolShort, studentNumber, school) {\n\t\treturn (\n\t\t\t<Typography variant=\"subtitle1\" style={{ fontFamily: \"'Courier New', Courier, monospace\", overflow: \"hidden\" }}>\n\t\t\t\t<span style={{ color: theme.palette.secondary.light, fontWeight: \"bold\" }}>\n\t\t\t\t\t{schoolShort}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ color: theme.palette.secondary.dark, fontWeight: \"bolder\" }}>\n\t\t\t\t\t{studentNumber}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t@ll.\n\t\t\t\t</span>\n\t\t\t\t<span style={{ color: theme.palette.secondary.light, fontWeight: \"bold\" }}>\n\t\t\t\t\t{school}\n\t\t\t\t</span>\n\t\t\t\t<span style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t.nl\n\t\t\t\t</span>\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\trender() {\n\t\tif (this.props.userId != null) {\n\t\t\tthis.props.history.push(\"/\");\n\t\t\tthis.props.toggleMenu(true);\n\t\t} else {\n\t\t\tthis.props.toggleMenu(false);\n\t\t}\n\n\t\treturn (\n\t\t\t<Paper elevation={8} className=\"Login\" style={{ minHeight: \"330px\" }}>\n\t\t\t\t<div style={{ padding: \"20px\" }}>\n\t\t\t\t\t<Typography gutterBottom variant=\"body1\" color=\"primary\">\n\t\t\t\t\t\tLog in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\tGebruik je school-email om in te loggen:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<center>\n\t\t\t\t\t\t{this.generateColoredEmail(\"schoolafkorting\", \"leerlingnummer\", \"school\")}\n\t\t\t\t\t\t{this.generateColoredEmail(this.state.schoolShort, this.state.studentNumber, this.state.school)}\n\t\t\t\t\t</center>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" size=\"large\" color=\"primary\" fullWidth onClick={this.login}>\n\t\t\t\t\t\tLogin met je Microsoft school account\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Paper >\n\t\t);\n\t}\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tlogin: (email, password) => {\n\t\t\tdispatch(toggleMenu(true));\n\t\t},\n\t\ttoggleMenu: (state) => {\n\t\t\tdispatch(toggleMenu(state));\n\t\t},\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login));\n\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Page extends Component {\n\n\trender() {\n\t\tlet className = this.props.className;\n\t\tif (this.props.showMenu) {\n\t\t\tclassName += \" menuShown\"\n\t\t} else {\n\t\t\tclassName += \" menuHidden\"\n\t\t}\n\t\treturn (\n\t\t\t<div className={\"Page \" + className}>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tshowMenu: state.showMenu,\n\t};\n}\n\nexport default connect(mapStateToProps)(Page);\n","import React, { Component } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Progress extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisShowing: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.timeout = setTimeout(() => this.setState({ isShowing: true }), 200);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timeout);\n\t}\n\n\trender() {\n\t\tif (this.state.isShowing) {\n\t\t\treturn (\n\t\t\t\t<CircularProgress {...this.props}/>\n\t\t\t);\n\t\t}else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n}\n\nexport default Progress;","import React, { Component } from \"react\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Button\n} from \"@material-ui/core/\";\nimport Clear from \"@material-ui/icons/Clear\";\n\nclass EnrollmentPopup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  static getDerivedStateFromProps(nextProps, prevProps) {\n    return { page: nextProps.hasChosen ? \"cancel\" : \"remarks\", ...prevProps };\n  }\n\n  getDuplicatePage() {\n    return (\n      <Dialog open keepMounted>\n        <DialogContent>\n          <Typography color=\"error\" style={{ fontSize: \"16px\" }}>\n            {\"Je hebt al een module gekozen voor \" + this.props.group.day + \"!\"}\n          </Typography>\n          Je hebt je op deze dag al voor de module&nbsp;\n          <Typography color=\"primary\" variant=\"button\">\n            {this.props.chosenDayGroupName}\n          </Typography>\n          &nbsp;ingeschreven. Wil je je ook voor&nbsp;\n          <Typography color=\"primary\" variant=\"button\">\n            {this.props.group.courseName}\n          </Typography>\n          &nbsp;inschrijven?\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              this.props.handlePopup(true);\n            }}\n          >\n            Toch inschrijven\n          </Button>\n          <Button color=\"default\">Annuleren</Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n\n  getCancelPage() {\n    return (\n      <Dialog open keepMounted>\n        <DialogTitle>Uitschrijven</DialogTitle>\n        <DialogContent>\n          Weet je zeker dat je wilt uitschrijven voor de module&nbsp;\n          <Typography color=\"primary\" variant=\"button\">\n            {this.props.group.courseName}\n          </Typography>{\" \"}\n          &nbsp;?\n        </DialogContent>\n        <DialogActions>\n          <Button color=\"default\">Annuleren</Button>\n          <Button onClick={() => this.props.handlePopup(true)} color=\"primary\">\n            Uitschrijven\n            <Clear />\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n\n  getConfirmPage() {\n    return (\n      <Dialog open keepMounted>\n        <DialogTitle>Inschrijven</DialogTitle>\n        <DialogContent>\n          Weet je zeker dat je wilt inschrijven voor de module&nbsp;\n          <Typography color=\"primary\" variant=\"button\">\n            {this.props.group.courseName}\n          </Typography>\n          &nbsp;?\n        </DialogContent>\n        <DialogActions>\n          <Button color=\"default\">Annuleren</Button>\n          <Button\n            onClick={() => {\n              this.props.handlePopup(true);\n            }}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Inschrijven\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n\n  getRemarkPage = () => {\n    const remarks = this.props.group.remarks;\n    return (\n      <Dialog open keepMounted>\n        <DialogTitle>Opmerkingen</DialogTitle>\n        <DialogContent>\n          <Typography>{remarks}</Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button color=\"default\">Annuleren</Button>\n          <Button\n            onClick={() => {\n              this.props.preventPopupClose(true);\n              this.setState({ page: \"hasChosenDay\" });\n            }}\n            color=\"primary\"\n          >\n            Verder\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  };\n\n  render() {\n    this.props.preventPopupClose(false);\n    const page = this.state.page;\n\n    if (page === \"cancel\") return this.getCancelPage();\n    if (\n      page === \"remarks\" &&\n      this.props.group.remarks != null &&\n      this.props.group.remarks.length > 1\n    ) {\n      return this.getRemarkPage();\n    }\n    if (page === \"hasChosenDay\" && this.props.hasChosenDay) {\n      return this.getDuplicatePage();\n    }\n    return this.getConfirmPage();\n  }\n}\n\nexport default EnrollmentPopup;\n","import React, { Component } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport { connect } from \"react-redux\";\nimport {\n  toggleEnrollment,\n  getEnrolLments\n} from \"../../store/actions\";\nimport Progress from \"../../components/Progress\";\nimport EnrollmentPopup from \"./EnrollmentPopup\";\n\nclass ChooseButton extends Component {\n  constructor(props) {\n    super(props);\n    this.props.getEnrolLments();\n    this.state = {\n      dialogOpen: false\n    };\n  }\n\n  preventPopupClose = preventClose => {\n    this.preventClose = preventClose;\n  };\n\n  handlePopup = doEnroll => {\n    if (doEnroll) {\n      this.props.toggleEnrollment(this.props.group);\n    }\n    if (!this.preventClose) {\n      this.setState({\n        dialogOpen: !this.state.dialogOpen\n      });\n    }\n  };\n\n  render() {\n    const props = this.props;\n    let dialog = this.state.dialogOpen ? (\n      <EnrollmentPopup\n        group={props.group}\n        hasChosen={props.hasChosen}\n        handlePopup={this.handlePopup}\n        hasChosenDay={props.hasChosenDay}\n        chosenDayGroupName={props.chosenDayGroupName}\n        preventPopupClose={this.preventPopupClose}\n      />\n    ) : null;\n\n    if (props.loading) {\n      return <Progress size={30} />;\n    }\n\n    if (props.hasChosen) {\n      return (\n        <Button\n          color=\"primary\"\n          onClick={() => this.handlePopup(false)}\n          style={props.style}\n        >\n          Ingeschreven\n          <Clear />\n          {dialog}\n        </Button>\n      );\n    }\n\n    if (this.props.canChoose) {\n      return (\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={() => this.handlePopup(false)}\n          style={this.props.style}\n        >\n          {\"Inschrijven\" + (this.props.hasChosenDay ? \"*\" : \"\")}\n          {dialog}\n        </Button>\n      );\n    } else if (props.group.period < this.props.enrollmentPeriod) {\n      return (\n        <Button disabled color=\"primary\" style={props.style}>\n          Inschrijfperiode verlopen\n          {dialog}\n        </Button>\n      );\n    } else {\n      return (\n        <Button disabled color=\"primary\" style={props.style}>\n          Coming Soon\n          {dialog}\n        </Button>\n      );\n    }\n  }\n}\n\nfunction mapStateToProps(state, ownProps) {\n  if (state.users[state.userId].enrollmentIds == null) {\n    return {\n      loading: true\n    };\n  }\n\n  let chosenDayGroupName = -1;\n  state.users[state.userId].enrollmentIds.forEach(groupId => {\n    const group = state.groups[groupId];\n    if (\n      group.day === ownProps.group.day &&\n      group.period === ownProps.group.period\n    ) {\n      chosenDayGroupName = group.courseName;\n    }\n  });\n\n  return {\n    canChoose: ownProps.group.enrollable,\n    hasChosen:\n      state.users[state.userId].enrollmentIds.indexOf(ownProps.group.id) !== -1,\n    hasChosenDay: chosenDayGroupName !== -1,\n    chosenDayGroupName,\n    enrollmentPeriod: state.enrollmentPeriod\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    toggleEnrollment: group => dispatch(toggleEnrollment(group)),\n    getEnrolLments: () => dispatch(getEnrolLments())\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChooseButton);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { relogSecure } from \"../store/actions\"\nimport { Typography } from '@material-ui/core';\n\nclass EnsureSecureLogin extends Component {\n\n\trender() {\n\n\t\tif (!(this.props.active === false) && this.props.secureLogin == null) {\n\t\t\tconst content = <div>\n\t\t\t\t<Typography>\n\t\t\t\t\tLog opnieuw in om toegang te krijgen\n\t\t\t\t</Typography>\n\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={relogSecure}>\n\t\t\t\t\tInloggen\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\tif (this.props.dense) {\n\t\t\t\treturn content;\n\t\t\t} else {\n\t\t\t\treturn <Paper style={{ padding: \"20px\", marginTop: \"25px\" }}>\n\t\t\t\t\t{content}\n\t\t\t\t</Paper>\n\t\t\t}\n\t\t} else {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsecureLogin: state.secureLogin,\n\t};\n}\n\nexport default connect(mapStateToProps, null)(EnsureSecureLogin);\n\n\n\n","import React, { Component } from \"react\";\n\nfunction validate(value, rules = {}, options = [value]) {\n  switch (rules.type) {\n    case \"phoneNumber\":\n      const re = /(^\\+[0-9]{2}|^\\+[0-9]{2}\\(0\\)|^\\(\\+[0-9]{2}\\)\\(0\\)|^00[0-9]{2}|^0)([0-9]{9}$|[0-9\\-\\s]{10}$)/i;\n      if (!re.test(value)) {\n        return false;\n      }\n      break;\n    case \"email\":\n      const re2 = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/g;\n      if (!re2.test(value)) {\n        return false;\n      }\n      break;\n    case \"integer\":\n      if (!/^\\+?[1-9][\\d]*$/i.test(value)) {\n        return false;\n      }\n      break;\n    case \"float\":\n      if (isNaN(value)) {\n        return false;\n      }\n      break;\n    case \"time\":\n      return /^\\d\\d:\\d\\d$/g.test(value);\n    case \"decimalGrade\":\n      //replace dot with comma and vice versa\n      if (value == null) {\n        return false;\n      }\n      const x = value\n        .replace(/\\./g, \"_$comma$_\")\n        .replace(/,/g, \".\")\n        .replace(/_\\$comma\\$_/g, \",\");\n      if (x === \"ND\") {\n        return true;\n      }\n      if (isNaN(x)) {\n        return false;\n      }\n      break;\n    default:\n      break;\n  }\n  if (rules.min) {\n    if (parseFloat(value) < rules.min) {\n      return false;\n    }\n  }\n  if (rules.max) {\n    if (parseFloat(value) > rules.max) {\n      return false;\n    }\n  }\n  if (rules.notEmpty) {\n    if (\n      value == null ||\n      value === \"\" ||\n      value === \" \" ||\n      options.indexOf(value) === -1\n    ) {\n      return false;\n    }\n  }\n  if (rules.maxLength && value != null) {\n    if (value.length > rules.maxLength) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nclass FieldContainer extends Component {\n\n  render() {\n    const component = this.props.children;\n    const style = { flex: \"1\", ...this.props.style }\n\n    if (this.props.td) {\n      return <td style={style}>\n        {component}\n      </td>\n    } else {\n      return <div style={style}>\n        {component}\n      </div>\n    }\n  }\n}\n\nexport { validate };\nexport default FieldContainer;\n","import { InputAdornment, TextField, Typography } from '@material-ui/core';\nimport React, { Component } from 'react';\nimport FieldContainer, { validate } from './FieldContainer';\n\nclass InputField extends Component {\n\n\trender() {\n\t\tconst P = this.props;\n\t\tlet value = P.value;\n\t\tif ((value == null || value === \"\") && !P.editable && P.default) {\n\t\t\tvalue = P.default;\n\t\t}\n\t\tif (value == null) {\n\t\t\tvalue = \"\";\n\t\t}\n\t\tlet CP = {\n\t\t\tInputProps: {},\n\t\t\tInputLabelProps: {},\n\t\t\tinputProps: {},\n\t\t}\n\n\t\tCP.error = (P.editable !== false && !P.disabled) ? !validate(value, P.validate) : false;\n\t\tCP.disabled = P.disabled;\n\t\tCP.value = value;\n\t\tCP.label = P.label;\n\t\tCP.variant = P.variant;\n\t\tCP.multiline = P.multiline;\n\t\tCP.fullWidth = true;\n\t\tCP.onChange = (event) => this.props.onChange(event.target.value)\n\t\tCP.InputProps.disableUnderline = P.editable === false;\n\t\tCP.InputLabelProps.disabled = true;\n\n\t\tif (P.unit) CP.InputProps.endAdornment = <InputAdornment position=\"end\">{P.unit}</InputAdornment>;\n\t\tif (P.editable === false) CP.inputProps.readOnly = \"readonly\";\n\n\t\tlet component;\n\t\tif (this.props.editable === false && this.props.typograpyProps) {\n\t\t\tcomponent =\n\t\t\t\t<Typography {...this.props.typograpyProps}>\n\t\t\t\t\t{this.props.value}\n\t\t\t\t</Typography>\n\t\t} else {\n\t\t\tcomponent = <TextField {...CP} />\n\t\t}\n\n\t\treturn <FieldContainer {...P}>\n\t\t\t{component}\n\t\t</FieldContainer>\n\t}\n\n}\n\n\nexport default InputField;","import { FormControl, InputLabel, ListSubheader, MenuItem, Select, TextField, Typography } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport React, { Component } from 'react';\nimport FieldContainer from './FieldContainer';\n\nclass SelectField extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tconst normOptions = SelectField.getNormalizedOptions(nextProps.options);\n\t\tconst containsCurValue = normOptions.filter(({ value }) => value === nextProps.value).length > 0;\n\t\tif (!containsCurValue && nextProps.freeSolo) {\n\t\t\tnormOptions.push({\n\t\t\t\tlabel: nextProps.value,\n\t\t\t\tvalue: nextProps.value\n\t\t\t});\n\t\t}\n\t\treturn {\n\t\t\t...prevState,\n\t\t\toptions: normOptions,\n\t\t\tvalue: nextProps.value || \"\",\n\t\t};\n\t}\n\n\tstatic getNormalizedOptions = (options) => {\n\t\tif (options.length > 0 && options[0].value == null) {\n\t\t\toptions = options.map((value) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: value,\n\t\t\t\t\tvalue: value,\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\treturn options;\n\t}\n\n\trenderValue = (val) => {\n\t\tlet vs = this.props.multiple ? val : [val];\n\t\treturn vs.map((v) => {\n\t\t\tconst opt = this.state.options.filter(({ value }) => value === v)\n\t\t\tif (opt.length > 0) {\n\t\t\t\tif (opt[0].category) {\n\t\t\t\t\treturn <div key={opt[0].value}>\n\t\t\t\t\t\t<Typography {...this.props.typograpyProps} variant=\"subtitle2\">{opt[0].category}</Typography>\n\t\t\t\t\t\t<Typography {...this.props.typograpyProps}>{opt[0].label}</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t} else {\n\t\t\t\t\treturn opt[0].label;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn val;\n\t\t\t}\n\t\t});\n\t}\n\n\tgetOptionsLabel = (val) => {\n\t\tlet vs = this.props.multiple ? val : [val];\n\t\treturn vs.map((v) => {\n\t\t\tconst opt = this.state.options.filter(({ value }) => value === v)\n\t\t\tif (opt.length > 0) {\n\t\t\t\tif (opt[0].category) {\n\t\t\t\t\treturn opt[0].label\n\t\t\t\t} else {\n\t\t\t\t\treturn opt[0].label;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t}).join(\", \");\n\t}\n\n\tgetCategoryOf = (val) => {\n\t\treturn this.state.options.find(({ value }) => value === val).category\n\t}\n\n\tgetAutocomplete = () => {\n\t\treturn <Autocomplete\n\t\t\tvalue={this.state.value}\n\t\t\tdisabled={this.props.disabled}\n\t\t\tfreeSolo={this.props.freeSolo}\n\t\t\tautoSelect\n\t\t\tgroupBy={this.getCategoryOf}\n\t\t\toptions={this.state.options.map(({ label, value }) => value)}\n\t\t\tgetOptionLabel={this.getOptionsLabel}\n\t\t\tonChange={(event, value) => this.props.onChange(value)}\n\t\t\trenderInput={(params) => <TextField {...params} label={this.props.label} variant=\"outlined\" />}\n\t\t/>\n\t}\n\n\tgetCurtain = () => {\n\t\treturn <div style={{ width: \"100%\", height: \"100%\", position: \"absolute\", zIndex: 10 }} />\n\t}\n\n\trenderMenuItems = () => {\n\t\tif (this.props.children == null) {\n\t\t\tconst items = this.state.options.reduce((acc, cur) => {\n\t\t\t\tconst last = acc[acc.length - 1];\n\t\t\t\tif ((cur.category != null && last == null) || (last != null && last.category !== cur.category)) {\n\t\t\t\t\treturn acc.concat([{ sep: true, category: cur.category, value: cur.value }, cur])\n\t\t\t\t}\n\t\t\t\treturn acc.concat([cur]);\n\t\t\t}, [])\n\t\t\treturn items.map(({ sep, label, value, category }) => {\n\t\t\t\tif (sep) {\n\t\t\t\t\treturn <ListSubheader key={value + \"_category\"}>{category}</ListSubheader>;\n\t\t\t\t} else {\n\t\t\t\t\treturn <MenuItem key={value} value={value}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n\n\tgetDropdown = () => {\n\t\tlet nonEdit = {}\n\t\tif (this.props.editable === false) {\n\t\t\tnonEdit.disableUnderline = true;\n\t\t\tnonEdit.IconComponent = \"div\";\n\t\t}\n\t\treturn <FormControl fullWidth>\n\t\t\t{this.props.label && <InputLabel disabled>{this.props.label}</InputLabel>}\n\t\t\t<Select\n\t\t\t\tmultiple={this.props.multiple}\n\t\t\t\tfullWidth\n\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\tvalue={this.state.value}\n\t\t\t\tonChange={(event) => this.props.onChange(event.target.value)}\n\t\t\t\t{...nonEdit}\n\t\t\t\trenderValue={value => this.renderValue(value)}\n\t\t\t>\n\t\t\t\t{this.renderMenuItems()}\n\t\t\t</Select>\n\t\t\t{this.props.editable === false && this.getCurtain()}\n\t\t</FormControl >\n\t}\n\n\trender() {\n\t\tlet field;\n\t\tif (this.state.options.length > 10 && !this.props.multiple && this.props.editable) {\n\t\t\tfield = this.getAutocomplete();\n\t\t} else {\n\t\t\tfield = this.getDropdown();\n\t\t}\n\n\n\t\treturn <FieldContainer {...this.props} >\n\t\t\t{field}\n\t\t</FieldContainer>\n\t}\n\n}\n\nexport default SelectField;","import React, { Component } from 'react';\n\nimport EnsureSecureLogin from '../../components/EnsureSecureLogin';\nimport { Tooltip, TableSortLabel, Typography, Paper } from '@material-ui/core';\nimport InputField from '../../fields/InputField';\nimport SelectField from '../../fields/SelectField';\n\nconst CHECK_FORMATS = [{\n\tlabel: \"Gehaald\",\n\tvalue: \"passed\",\n},\n{\n\tlabel: \"Niet gehaald\",\n\tvalue: \"failed\",\n},\n{\n\tlabel: \"Niet deelgenomen\",\n\tvalue: \"ND\",\n}];\n\nconst STEPWISE_FORMATS = [{\n\tlabel: \"Onvoldoende\",\n\tvalue: \"O\",\n},\n{\n\tlabel: \"Voldoende\",\n\tvalue: \"V\",\n},\n{\n\tlabel: \"Goed\",\n\tvalue: \"G\",\n},\n{\n\tlabel: \"Niet deelgenomen\",\n\tvalue: \"ND\",\n}]\n\nconst EVALUATION_FORMATS = [{\n\tlabel: \"vink\",\n\tvalue: \"check\",\n\toptions: CHECK_FORMATS,\n},\n{\n\tlabel: \"trapsgewijs\",\n\tvalue: \"stepwise\",\n\toptions: STEPWISE_FORMATS,\n}, {\n\tlabel: \"cijfer\",\n\tvalue: \"decimal\",\n\toptions: \"decimal\",\n}];\n\nfunction getEvaluationColor(ev) {\n\tif (ev.assesment === \"ND\" || ev.assesment == null) {\n\t\treturn \"#673ab7\";\n\t}\n\tswitch (ev.type) {\n\t\tcase \"stepwise\":\n\t\t\treturn \"#3f51b5\";\n\t\tcase \"check\":\n\t\t\treturn \"#009688\";\n\t\tcase \"decimal\":\n\t\t\treturn \"#00bcd4\"\n\t\tdefault:\n\t\t\treturn \"#673ab7\";\n\t}\n}\n\nfunction translateAssessment(evaluation) {\n\tlet { assesment, type } = evaluation;\n\tif ((assesment + \"\").toUpperCase() === \"ND\") {\n\t\treturn \"ND\";\n\t}\n\tswitch (type) {\n\t\tcase \"decimal\":\n\t\t\treturn (parseFloat((assesment + \"\").replace(\",\", \".\")).toFixed(1) + \"\").replace(\".\", \",\");\n\t\tcase \"stepwise\":\n\t\t\treturn STEPWISE_FORMATS.filter(({ label, value }) => value === assesment)[0].label;\n\t\tcase \"check\":\n\t\t\treturn CHECK_FORMATS.filter(({ label, value }) => value === assesment)[0].label;\n\t\tdefault:\n\t\t\treturn \"---\"\n\t}\n}\n\n\n/**\n * Function that determines whether a row in the portfolio should be present\n * or omitted.\n *\n * @param evaluation The evaluation object.\n * @returns {boolean} True if the row should be in the portfolio.\n */\nfunction isCertificateWorthy(evaluation) {\n\tif (evaluation != null) {\n\t\tconst assesment = evaluation.assesment + \"\";\n\t\tswitch (evaluation.type) {\n\t\t\tcase \"decimal\":\n\t\t\t\treturn parseFloat(assesment.replace(/,/g, \".\")) >= 6.0;\n\t\t\tcase \"stepwise\":\n\t\t\t\treturn assesment === \"G\" || assesment === \"V\";\n\t\t\tcase \"check\":\n\t\t\t\treturn assesment === \"passed\";\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn false;\n}\n\n\nclass EvaluationField extends Component {\n\n\trender() {\n\t\tconst e = this.props.evaluation;\n\t\tif (e.type === \"decimal\") {\n\t\t\treturn <InputField\n\t\t\t\tvalidate={{ min: 1, max: 10, type: \"decimalGrade\", notEmpty: true }}\n\t\t\t\ttd\n\t\t\t\tname={e.userId}\n\t\t\t\tvalue={e.assesment ? e.assesment : \"\"}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tonChange={this.props.onChange}\n\t\t\t/>\n\t\t} else {\n\t\t\treturn <SelectField\n\t\t\t\tname={e.userId}\n\t\t\t\ttd\n\t\t\t\tvalue={e.assesment ? e.assesment : \"\"}\n\t\t\t\toptions={EVALUATION_FORMATS.filter(f => f.value === e.type)[0].options}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tonChange={this.props.onChange}\n\t\t\t/>\n\t\t}\n\t}\n\n}\n\nclass EvaluationDisplay extends Component {\n\n\trender() {\n\t\tconst e = this.props.evaluation;\n\t\tconst v = translateAssessment(e);\n\t\treturn <Typography\n\t\t\tvariant=\"h6\"\n\t\t\tstyle={{ color: \"white\" }}\n\t\t>\n\t\t\t{v}\n\t\t</Typography>\n\t}\n\n}\n\n\n\nclass EvaluationTab extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsortValue: \"\",\n\t\t\tsortDirection: \"\",\n\t\t}\n\t}\n\n\tonSortChange = (value) => {\n\t\tthis.setState({\n\t\t\tsortValue: value,\n\t\t\tsortDirection: this.state.sortDirection === \"desc\" && this.state.sortValue === value ? \"asc\" : \"desc\"\n\t\t});\n\t}\n\n\thandleSingleChange = (newEv) => {\n\t\tlet newEvaluations = this.props.evaluations.map((e) => {\n\t\t\tif (e.userId === newEv.userId) {\n\t\t\t\treturn newEv;\n\t\t\t} else {\n\t\t\t\treturn { ...e }\n\t\t\t}\n\t\t});\n\t\tthis.props.handleChange(newEvaluations);\n\t}\n\n\thandleEvaluationTypeChange(newValue) {\n\t\tlet newEvaluations = [];\n\t\tfor (let i = 0; i < this.props.evaluations.length; i++) {\n\t\t\tnewEvaluations.push({\n\t\t\t\t...this.props.evaluations[i],\n\t\t\t\ttype: newValue,\n\t\t\t});\n\t\t\tthis.props.handleChange(newEvaluations);\n\t\t}\n\t}\n\n\tsortEvaluations = () => {\n\t\tlet evaluations = this.props.evaluations;\n\t\tconst sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\n\t\tif (sortValue === \"name\") {\n\t\t\tevaluations.sort((a, b) => {\n\t\t\t\tlet cmp = b.displayName < a.displayName;\n\t\t\t\treturn sortDirection === \"asc\" ? cmp : -cmp;\n\t\t\t})\n\t\t} else if (sortValue === \"evaluations\") {\n\t\t\tevaluations.sort((a, b) => {\n\t\t\t\ta = a[\"assesment\"];\n\t\t\t\tb = b[\"assesment\"];\n\t\t\t\tlet cmp = (b === null) - (a == null) || +(a > b) || -(a < b);\n\t\t\t\treturn sortDirection === \"asc\" ? cmp : -cmp;\n\t\t\t})\n\t\t}\n\t\treturn evaluations;\n\t}\n\n\trender() {\n\t\tlet sortValue = this.state.sortValue;\n\t\tlet sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n\t\tconst style = {\n\t\t\tmarginTop: \"10px\",\n\t\t\talignItems: \"center\",\n\t\t\tpaddingRight: \"15px\",\n\t\t\tpaddingLeft: \"15px\",\n\t\t\tdisplay: \"flex\",\n\t\t};\n\t\tconst evaluations = this.props.evaluations;\n\t\tif (evaluations.length === 0) {\n\t\t\treturn \"Er zijn nog geen beoordelingen beschikbaar\";\n\t\t}\n\t\tconst evComps = this.sortEvaluations()\n\t\t\t.map(ev => {\n\t\t\t\treturn (\n\t\t\t\t\t<Paper style={style} key={ev.userId} component=\"tr\">\n\t\t\t\t\t\t<td style={{ flex: \"1\" }}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ev.displayName}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<EvaluationField\n\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\tevaluation={ev}\n\t\t\t\t\t\t\tonChange={(assesment) => this.handleSingleChange({ ...ev, assesment })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\ttd\n\t\t\t\t\t\t\tlabel=\"Uitleg\"\n\t\t\t\t\t\t\tname={ev.userId}\n\t\t\t\t\t\t\tvalue={ev.explanation}\n\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\tonChange={(explanation) => this.handleSingleChange({ ...ev, explanation })}\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tstyle={{ flex: \"2\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Paper >\n\t\t\t\t);\n\t\t\t});\n\n\t\treturn (\n\t\t\t<EnsureSecureLogin active={this.props.editable}>\n\t\t\t\t<table style={{ width: \"100%\" }}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<Paper style={{ ...style, backgroundColor: \"#e0e0e0\" }} component=\"tr\">\n\t\t\t\t\t\t\t<td style={{ paddingLeft: \"15px\" }}>\n\t\t\t\t\t\t\t\t<Typography type=\"title\" color=\"primary\" style={{ padding: \"5px 0\" }} >\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\t\tactive={sortValue === \"evaluations\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSortChange(\"evaluations\")}\n\t\t\t\t\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"inherit\", fontSize: \"1.5rem\", }}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tBeoordelingen\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\t\tactive={sortValue === \"name\"}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSortChange(\"name\")}\n\t\t\t\t\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNaam\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style={{ flex: \"5\" }} />\n\t\t\t\t\t\t\t<td style={{ flex: \"2\" }} >\n\t\t\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\t\t\tlabel=\"Beoordelingsformaat\"\n\t\t\t\t\t\t\t\t\tvalue={evaluations[0].type}\n\t\t\t\t\t\t\t\t\toptions={EVALUATION_FORMATS}\n\t\t\t\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\t\t\t\tonChange={this.handleEvaluationTypeChange.bind(this)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</Paper >\n\t\t\t\t\t\t{evComps}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table >\n\t\t\t</EnsureSecureLogin>\n\t\t);\n\t}\n\n}\n\nexport {\n\tEvaluationDisplay,\n\tEvaluationField,\n\tEvaluationTab,\n\tgetEvaluationColor,\n\tisCertificateWorthy,\n\ttranslateAssessment\n};","import { Typography, Button, Paper, Badge } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport ChooseButton from \"./ChooseButton\";\nimport { EvaluationDisplay, getEvaluationColor } from \"./Evaluation\";\nimport \"./GroupCard.css\";\n\nclass GroupCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hover: false\n    };\n  }\n\n  expand() {\n    this.props.history.push(\"/groep/\" + this.props.group.id);\n  }\n\n  getBottomSection(hasEvaluation) {\n    if (hasEvaluation) {\n      return (\n        <div\n          className=\"footer\"\n          style={{\n            backgroundColor: getEvaluationColor(this.props.group.evaluation)\n          }}\n        >\n          <Typography variant=\"h6\" style={{ color: \"white\" }}>\n            Beoordeling\n          </Typography>\n          <EvaluationDisplay evaluation={this.props.group.evaluation} />\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"footer\">\n          <Button color=\"secondary\" onClick={this.expand.bind(this)}>\n            Bekijken\n          </Button>\n          {this.props.role === \"student\" && (\n            <ChooseButton group={this.props.group} />\n          )}\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const group = this.props.group;\n    const hasEvaluation = this.props.group.evaluation &&\n      this.props.group.evaluation.assesment !== \"\" &&\n      this.props.group.evaluation.assesment !== null;\n    return (\n      <div className=\"GroupCard\">\n        <Paper\n          elevation={this.state.hover ? 4 : 2}\n          onMouseEnter={() => this.setState({ hover: true })}\n          onMouseLeave={() => this.setState({ hover: false })}\n        >\n          <Badge\n            color=\"secondary\"\n            invisible={this.props.schoolYear === group.schoolYear}\n            badgeContent={group.schoolYear}\n          >\n            <div className=\"GroupCardInside\">\n              <Typography\n                variant=\"caption\"\n                color=\"primary\"\n                style={{\n                  overflow: \"hidden\",\n                  maxHeight: \"65px\",\n                  cursor: \"pointer\"\n                }}\n                onClick={() => {\n                  this.props.history.push(\"/groep/\" + group.id);\n                }}\n              >\n                {group.subjectName +\n                  \" - #M\" +\n                  (group.courseId + \"\").padStart(4, \"0\")}\n              </Typography>\n              <Typography\n                variant=\"h1\"\n                style={{\n                  overflow: \"hidden\",\n                  height: \"64px\",\n                  cursor: \"pointer\",\n                  textTransform: \"uppercase\",\n                  fontSize: \"24px\"\n                }}\n                onClick={() => {\n                  this.props.history.push(\"/groep/\" + group.id);\n                }}\n              >\n                {group.courseName}\n              </Typography>\n              <div>\n                <Typography\n                  style={{\n                    display: \"inline-block\",\n                    fontWeight: \"bold\",\n                    float: \"right\"\n                  }}\n                >\n                  {\"Blok \" + group.period + \" - \" + group.day}\n                </Typography>\n                <Typography\n                  style={{ display: \"inline-block\", fontWeight: \"bold\" }}\n                >\n                  {group.enrollableFor || \"Iedereen\"}\n                </Typography>\n              </div>\n              {hasEvaluation ? (\n                <Typography\n                  style={{ maxHeight: \"164px\", overflow: \"hidden\" }}\n                  gutterBottom\n                >\n                  <b>Uitleg beoordeling: </b>\n                  {group.evaluation.explanation}\n                </Typography>\n              ) : (\n                  <Typography\n                    style={{ maxHeight: \"164px\", overflow: \"hidden\" }}\n                    gutterBottom\n                  >\n                    {group.courseDescription}\n                  </Typography>\n                )}\n              {this.getBottomSection(hasEvaluation)}\n            </div>\n          </Badge>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(GroupCard);\n","import React, { Component } from 'react';\nimport map from \"lodash/map\";\nimport filter from \"lodash/filter\";\nimport { Paper, Typography } from '@material-ui/core';\nimport SelectField from '../../fields/SelectField';\nimport { connect } from 'react-redux';\n\nclass PresenceTable extends Component {\n\n\tcreatePresenceComponent(presence, i) {\n\t\tlet options = [{ label: \"Actief\", value: \"present\" },\n\t\t{ label: \"Niet actief\", value: \"absent\" }];\n\t\tif (!this.props.editable && presence.userStatus === \"absent\") {\n\t\t\toptions[0].label = \"Afgemeld\";\n\t\t\toptions[1].label = \"Afgemeld\";\n\t\t}\n\t\treturn <SelectField\n\t\t\tkey={i}\n\t\t\tvalue={presence.status}\n\t\t\toptions={options}\n\t\t\tlabel={presence.userStatus === \"absent\" ? \"afgemeld\" : undefined}\n\t\t\ttd\n\t\t\teditable={this.props.editable}\n\t\t\tonChange={(status) => {\n\t\t\t\tthis.props.handleChange({\n\t\t\t\t\t...presence,\n\t\t\t\t\tstatus,\n\t\t\t\t});\n\t\t\t}}\n\t\t/>;\n\t}\n\n\tcreateRow = (participantId) => {\n\t\tconst content = map(this.props.lessons, ((lesson, i) => {\n\t\t\tconst p = filter(this.props.presence, presence => {\n\t\t\t\treturn presence.lessonId === lesson.id && presence.userId === participantId;\n\t\t\t});\n\t\t\tif (p.length === 1) {\n\t\t\t\treturn this.createPresenceComponent(p[0], i);\n\t\t\t} else {\n\t\t\t\treturn this.createPresenceComponent({\n\t\t\t\t\tid: Math.floor(-Math.random() * 100000),\n\t\t\t\t\tlessonId: lesson.id,\n\t\t\t\t\tuserId: participantId,\n\t\t\t\t\tstatus: \"present\",\n\t\t\t\t}, i);\n\t\t\t}\n\t\t}));\n\n\t\treturn (\n\t\t\t<Paper component=\"tr\" elevation={1} key={\"p\" + participantId}>\n\t\t\t\t<Typography color=\"primary\" component=\"td\">\n\t\t\t\t\t{this.props.users[participantId].displayName}\n\t\t\t\t</Typography>\n\t\t\t\t{content}\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\tcreateLessonHeader = (lesson) => {\n\t\tconst content = map(this.props.lessons, lesson => {\n\t\t\treturn <Typography key={lesson.id} component=\"td\" color=\"primary\">\n\t\t\t\t{\"Les \" + lesson.numberInBlock}\n\t\t\t</Typography>\n\t\t});\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\tcomponent=\"tr\"\n\t\t\t\televation={2}\n\t\t\t\tkey={\"l\" + lesson}\n\t\t\t\tstyle={{ backgroundColor: \"#e0e0e0\" }}\n\t\t\t>\n\t\t\t\t<Typography component=\"td\" />\n\t\t\t\t{content}\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\trender() {\n\t\tlet rows = this.props.participantIds.map(this.createRow);\n\t\trows.unshift(this.createLessonHeader());\n\t\treturn <table style={{ width: \"100%\" }}>\n\t\t\t<tbody>\n\t\t\t\t{rows}\n\t\t\t</tbody>\n\t\t</table>;\n\t}\n\n}\n\nfunction mapStateToProps(state, ownProps) {\n\treturn {\n\t\tusers: state.users,\n\t\t...ownProps\n\t}\n}\n\nexport default connect(mapStateToProps)(PresenceTable);","let possibleValues = {\n\trole: {\n\t\t\"student\": {\n\t\t\tlevel: [\"Praktijkschool\", \"ISK\", \"n.v.t.\", \"Jan Ligthart\", \"OPUS\", \"MAVO\", \"VMBO\", \"HAVO\", \"VWO\", \"AGORA\"],\n\t\t},\n\t\t\"teacher\": {\n\t\t\tlevel: [\"-\"],\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t\tyear: [\"n.v.t.\"],\n\t\t},\n\t\t\"admin\": {\n\t\t\tlevel: [\"-\"],\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t\tyear: [\"n.v.t.\"],\n\t\t},\n\t\t\"grade_admin\": {\n\t\t\tlevel: [\"-\"],\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t\tyear: [\"n.v.t.\"],\n\t\t}\n\t},\n\tschool: {\n\t\t\"Beekdal Lyceum\": {\n\t\t\tlevel: [\"HAVO\", \"VWO\", \"-\"],\n\t\t\tschoolLocation: [\"Bernhardlaan 49, Arnhem\"],\n\t\t},\n\t\t\"Candea College\": {\n\t\t\tlevel: [\"VMBO\", \"MAVO\", \"HAVO\", \"VWO\", \"-\"],\n\t\t\tschoolLocation: [\n\t\t\t\t\"Eltensestraat 8, Duiven\",\n\t\t\t\t\"Saturnus 1, Duiven\",\n\t\t\t],\n\t\t},\n\t\t\"Centraal Bureau\": {\n\t\t\tlevel: [\"n.v.t.\", \"-\"],\n\t\t\tschoolLocation: [\n\t\t\t\t\"Saturnus 5, Duiven\"\n\t\t\t],\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t\tyear: [\"n.v.t.\"],\n\t\t},\n\t\t\"Lyceum Elst\": {\n\t\t\tlevel: [\"MAVO\", \"HAVO\", \"VWO\", \"-\"],\n\t\t\tschoolLocation: [\"Auditorium 3, Elst\"],\n\t\t},\n\t\t\"Liemers College\": {\n\t\t\tlevel: [\"VMBO\", \"MAVO\", \"HAVO\", \"VWO\", \"-\"],\n\t\t\tschoolLocation: [\n\t\t\t\t\"Dijksestraat 12, Didam\",\n\t\t\t\t\"Stationspoort 36, Zevenaar\",\n\t\t\t\t\"Heerenmäten 6, Zevenaar\",\n\t\t\t\t\"Zonegge (AGORA) 07-09, Zevenaar\",\n\t\t\t\t\"Zonegge 07-09, Zevenaar\",\n\t\t\t],\n\t\t},\n\t\t\"Lorentz Lyceum\": {\n\t\t\tlevel: [\"HAVO\", \"VWO\", \"OPUS\", \"n.v.t.\", \"-\"],\n\t\t\tschoolLocation: [\"Metamorfosenallee 100, Arnhem\"]\n\t\t},\n\t\t\"Maarten van Rossem\": {\n\t\t\tlevel: [\"VMBO\", \"-\"],\n\t\t\tschoolLocation: [\"Groningensingel 1235, Arnhem\"],\n\t\t},\n\t\t\"Montessori College Arnhem\": {\n\t\t\tlevel: [\"MAVO\", \"HAVO\", \"VWO\", \"-\"],\n\t\t\tschoolLocation: [\"Utrechtseweg 174, Arnhem\"]\n\t\t},\n\t\t\"Olympus College\": {\n\t\t\tlevel: [\"Jan Ligthart\", \"MAVO\", \"HAVO\", \"VWO\", \"-\"],\n\t\t\tschoolLocation: [\"Olympus 11, Arnhem\"],\n\t\t},\n\t\t\"Produs Praktijkonderwijs\": {\n\t\t\tlevel: [\"Praktijkschool\", \"-\"],\n\t\t\tschoolLocation: [\"Leidenweg 60, Arnhem\"],\n\t\t},\n\t\t\"Stedelijk Gymnasium Arnhem\": {\n\t\t\tlevel: [\"VWO\", \"-\"],\n\t\t\tschoolLocation: [\"Thorbeckestraat 17, Arnhem\"],\n\t\t},\n\t\t\"Symbion\": {\n\t\t\tlevel: [\"Praktijkschool\", \"-\"],\n\t\t\tschoolLocation: [\"Hoge Witteveld 2, Didam\"],\n\t\t},\n\t\t\"Vmbo 't Venster\": {\n\t\t\tlevel: [\"ISK\", \"VMBO\", \"MAVO\", \"-\"],\n\t\t\tschoolLocation: [\"Thomas a Kempislaan 82, Arnhem\"],\n\t\t},\n\t\t\"Het Westeraam\": {\n\t\t\tlevel: [\"VMBO\", \"-\"],\n\t\t\tschoolLocation: [\"Auditorium 6, Elst\"],\n\t\t},\n\t},\n\tlevel: {\n\t\t\"-\": {},// Teacher/GradeAdmin/Admin\n\t\t\"Praktijkschool\": {\n\t\t\tyear: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\"],\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t},\n\t\t\"ISK\": {\n\t\t\tyear: [\"n.v.t.\"],\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t},\n\t\t\"VMBO\": {\n\t\t\tyear: [\"1\", \"2\", \"3\", \"4\"],\n\t\t\tprofile: [\n\t\t\t\t\"Bouwen, wonen en interieur\",\n\t\t\t\t\"Dienstverlening en producten\",\n\t\t\t\t\"Economie en ondernemen\",\n\t\t\t\t\"Groen\",\n\t\t\t\t\"Horeca, bakkerij en recreatie\",\n\t\t\t\t\"Maritiem en techniek\",\n\t\t\t\t\"Media, vormgeving en ICT\",\n\t\t\t\t\"Mobiliteit en transport\",\n\t\t\t\t\"Produceren, installeren en energie\",\n\t\t\t\t\"Zorg en welzijn\",\n\t\t\t\t\"n.v.t.\",\n\t\t\t],\n\t\t},\n\t\t\"MAVO\": {\n\t\t\tyear: [\"1\", \"2\", \"3\", \"4\"],\n\t\t\tprofile: [\n\t\t\t\t\"Economie\",\n\t\t\t\t\"Landbouw (Groen)\",\n\t\t\t\t\"Techniek\",\n\t\t\t\t\"Zorg en welzijn\",\n\t\t\t\t\"n.v.t.\",\n\t\t\t],\n\t\t},\n\t\t\"HAVO\": {\n\t\t\tyear: [\"1\", \"2\", \"3\", \"4\", \"5\"],\n\t\t\tprofile: [\n\t\t\t\t\"Cultuur en Maatschappij\",\n\t\t\t\t\"Economie en Maatschappij\",\n\t\t\t\t\"Natuur en Gezondheid\",\n\t\t\t\t\"Natuur en Techniek\",\n\t\t\t\t\"Natuur en Techniek & Natuur en Gezondheid\",\n\t\t\t\t\"Cultuur en Maatschappij & Economie en Maatschappij\",\n\t\t\t\t\"n.v.t.\",\n\t\t\t]\n\t\t},\n\t\t\"VWO\": {\n\t\t\tyear: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\"],\n\t\t\tprofile: [\n\t\t\t\t\"Cultuur en Maatschappij\",\n\t\t\t\t\"Economie en Maatschappij\",\n\t\t\t\t\"Natuur en Gezondheid\",\n\t\t\t\t\"Natuur en Techniek\",\n\t\t\t\t\"Natuur en Techniek & Natuur en Gezondheid\",\n\t\t\t\t\"Cultuur en Maatschappij & Economie en Maatschappij\",\n\t\t\t\t\"n.v.t.\",\n\t\t\t],\n\t\t},\n\t\t\"Jan Ligthart\": {\n\t\t\tyear: [\"1\"],\n\t\t\tprofile: [\"n.v.t.\"]\n\t\t},\n\t\t\"AGORA\": {\n\t\t},\n\t\t\"OPUS\": {\n\t\t\tyear: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\"],\n\t\t\tprofile: [\n\t\t\t\t\"Cultuur en Maatschappij\",\n\t\t\t\t\"Economie en Maatschappij\",\n\t\t\t\t\"Natuur en Gezondheid\",\n\t\t\t\t\"Natuur en Techniek\",\n\t\t\t\t\"Natuur en Techniek & Natuur en Gezondheid\",\n\t\t\t\t\"Cultuur en Maatschappij & Economie en Maatschappij\",\n\t\t\t\t\"n.v.t.\"\n\t\t\t],\n\t\t},\n\t\t\"n.v.t.\": {\n\t\t\tyear: [\"n.v.t.\"],\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t},\n\t},\n\tprofile: {\n\t\t// VMBO\n\t\t\"Bouwen, wonen en interieur\": {},\n\t\t\"Dienstverlening en producten\": {},\n\t\t\"Economie en ondernemen\": {},\n\t\t\"Groen\": {},\n\t\t\"Horeca, bakkerij en recreatie\": {},\n\t\t\"Maritiem en techniek\": {},\n\t\t\"Media, vormgeving en ICT\": {},\n\t\t\"Mobiliteit en transport\": {},\n\t\t\"Produceren, installeren en energie\": {},\n\t\t// \"Zorg en welzijn\": {}, IS A PROFILE OF VMBO AS WELL AS MAVO!\n\t\t// MAVO\n\t\t\"Economie\": {},\n\t\t\"Landbouw (Groen)\": {},\n\t\t\"Techniek\": {},\n\t\t\"Zorg en welzijn\": {\n\t\t},\n\t\t// HAVO/VWO\n\t\t\"Cultuur en Maatschappij\": {\n\t\t\tyear: [\"4\", \"5\", \"6\"],\n\t\t},\n\t\t\"Economie en Maatschappij\": {\n\t\t\tyear: [\"4\", \"5\", \"6\"],\n\t\t},\n\t\t\"Natuur en Gezondheid\": {\n\t\t\tyear: [\"4\", \"5\", \"6\"],\n\t\t},\n\t\t\"Natuur en Techniek\": {\n\t\t\tyear: [\"4\", \"5\", \"6\"],\n\t\t},\n\t\t\"Natuur en Techniek & Natuur en Gezondheid\": {\n\t\t\tyear: [\"4\", \"5\", \"6\"],\n\t\t},\n\t\t\"Cultuur en Maatschappij & Economie en Maatschappij\": {\n\t\t\tyear: [\"4\", \"5\", \"6\"],\n\t\t},\n\t\t\"n.v.t.\": {},\n\t},\n\tschoolLocation: {\n\t\t\"Leidenweg 60, Arnhem\": {},\n\t\t\"Hoge Witteveld 2, Didam\": {},\n\t\t\"Thomas a Kempislaan 82, Arnhem\": {},\n\t\t\"Groningensingel 1235, Arnhem\": {},\n\t\t\"Auditorium 6, Elst\": {},\n\t\t\"Dijksestraat 12, Didam\": {},\n\t\t\"Stationspoort 36, Zevenaar\": {},\n\t\t\"Heerenmäten 6, Zevenaar\": {},\n\t\t\"Zonegge (AGORA) 07-09, Zevenaar\": {},\n\t\t\"Zonegge 07-09, Zevenaar\": {},\n\t\t\"Eltensestraat 8, Duiven\": {\n\t\t\tlevel: [\"VMBO\", \"MAVO\"],\n\t\t},\n\t\t\"Saturnus 1, Duiven\": {\n\t\t\tlevel: [\"HAVO\", \"VWO\"],\n\t\t},\n\t\t\"Thorbeckestraat 17, Arnhem\": {},\n\t\t\"Auditorium 3, Elst\": {},\n\t\t\"Utrechtseweg 174, Arnhem\": {},\n\t\t\"Olympus 11, Arnhem\": {},\n\t\t\"Metamorfosenallee 100, Arnhem\": {},\n\t\t\"Bernhardlaan 49, Arnhem\": {},\n\t\t\"Saturnus 5, Duiven\": {},\n\t},\n\tyear: {\n\t\t\"n.v.t.\": {},\n\t\t\"1\": {\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t},\n\t\t\"2\": {\n\t\t\tprofile: [\"n.v.t.\"],\n\t\t},\n\t\t\"3\": {},\n\t\t\"4\": {},\n\t\t\"5\": {},\n\t\t\"6\": {},\n\t}\n}\n\n// Turn an array of form [a,b,...n] to an object of form {\"a\": {}, \"b\": {}, ... \"n\": {}}\nfunction arrToObj(arr) {\n\treturn arr.reduce((acc, cur) => {\n\t\treturn {\n\t\t\t...acc,\n\t\t\t[cur]: {},\n\t\t}\n\t}, {});\n}\n\n// transform arrays to objects\nfor (let field in possibleValues) {\n\tfor (let value in possibleValues[field]) {\n\t\tfor (let constraint in possibleValues[field][value]) {\n\t\t\tpossibleValues[field][value][constraint] = arrToObj(possibleValues[field][value][constraint]);\n\t\t}\n\t}\n}\n\n// Turn an object of form {\"a\": {\"c\":x},...} into {\"a\": {\"c\": {}}}\nfunction oneDeep(obj) {\n\tlet y = {};\n\tfor (let x in obj) {\n\t\ty[x] = arrToObj(Object.keys(obj[x]));\n\t}\n\treturn y;\n}\n\nlet oneDeepPossibleValues = oneDeep(possibleValues)\n\n// fill missing values\nfor (let field in possibleValues) {\n\tfor (let value in possibleValues[field]) {\n\t\tpossibleValues[field][value] = {\n\t\t\t...oneDeepPossibleValues,\n\t\t\t...possibleValues[field][value]\n\t\t}\n\t}\n}\n\n\nexport { arrToObj };\nexport default possibleValues;","import React, { Component } from 'react';\n\nimport Paper from '@material-ui/core/Paper';\nimport { Typography } from '@material-ui/core';\nimport { setPresenceUserStatus } from \"../../store/actions\";\nimport { connect } from \"react-redux\";\nimport InputField from '../../fields/InputField';\nimport SelectField from '../../fields/SelectField';\nimport \"./Lesson.css\";\nimport educationConstraints from \"../profile/educationConstraints\"\nimport { flatten, map } from 'lodash';\n\nclass Lesson extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t}\n\t}\n\n\tgetWeekdayString(number) {\n\t\treturn [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"][number];\n\t}\n\n\thandleChange = (name, value) => {\n\t\tthis.props.handleChange({\n\t\t\t...this.props.lesson,\n\t\t\t[name]: value,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst lesson = this.props.lesson;\n\t\tlet displayDate = \"niet van toepassing\";\n\t\tif (lesson.date) {\n\t\t\tconst d = new Date(lesson.date);\n\t\t\tdisplayDate = `${this.getWeekdayString(d.getDay())} ${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`;\n\t\t}\n\t\tconst locations = flatten(map(educationConstraints.school, ({ schoolLocation }, school) => {\n\t\t\treturn Object.keys(schoolLocation).map((adres) => {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: adres,\n\t\t\t\t\tlabel: adres,\n\t\t\t\t\tcategory: school,\n\t\t\t\t};\n\t\t\t});\n\t\t}));\n\t\treturn <Paper\n\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\tcomponent=\"tr\"\n\t\t\tclassName=\"Lesson\"\n\t\t>\n\t\t\t<td>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography color=\"primary\" variant=\"button\" >\n\t\t\t\t\t\t{\"Les \" + lesson.numberInBlock}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography color=\"textSecondary\" variant=\"body1\">\n\t\t\t\t\t\t{displayDate}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"LocationRoom\">\n\t\t\t\t\t<SelectField\n\t\t\t\t\t\tlabel=\"Locatie\"\n\t\t\t\t\t\tvalue={lesson.location}\n\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\toptions={locations}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"location\", value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<InputField\n\t\t\t\t\t\tlabel=\"Lokaal\"\n\t\t\t\t\t\tvalue={lesson.room}\n\t\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\t\tonChange={(value) => this.handleChange(\"room\", value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<InputField\n\t\t\t\tlabel=\"Onderwerp\"\n\t\t\t\tvalue={lesson.subject}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tmultiline\n\t\t\t\tonChange={(value) => this.handleChange(\"subject\", value)}\n\t\t\t\ttd\n\t\t\t/>\n\t\t\t<InputField\n\t\t\t\tlabel=\"Activiteiten\"\n\t\t\t\tvalue={lesson.activities}\n\t\t\t\teditable={this.props.editable}\n\t\t\t\tmultiline\n\t\t\t\tonChange={(value) => this.handleChange(\"activities\", value)}\n\t\t\t\ttd\n\t\t\t/>\n\t\t\t<td style={{ display: \"flex\", flexDirection: \"column\", verticleAlign: \"top\" }}>\n\t\t\t\t<SelectField\n\t\t\t\t\tlabel=\"Soort les\"\n\t\t\t\t\tvalue={lesson.kind}\n\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\toptions={[\n\t\t\t\t\t\t{ value: \"fysiek\", label: \"Fysiek\", category: \"Centrale bijeenkomst\" },\n\t\t\t\t\t\t{ value: \"online\", label: \"Online\", category: \"Centrale bijeenkomst\" },\n\t\t\t\t\t\t{ value: \"hybride\", label: \"Hybride\", category: \"Centrale bijeenkomst\" },\n\t\t\t\t\t\t{ value: \"groepswerk\", label: \"Groepswerk\", category: \"Geen centrale bijeenkomst\" },\n\t\t\t\t\t\t{ value: \"zelfstudie\", label: \"Zelfstudie\", category: \"Geen centrale bijeenkomst\" },\n\t\t\t\t\t]}\n\t\t\t\t\tonChange={(value) => this.handleChange(\"kind\", value)}\n\t\t\t\t>\n\t\t\t\t</SelectField>\n\t\t\t\t<SelectField\n\t\t\t\t\tlabel=\"Aanwezigheid\"\n\t\t\t\t\tvalue={lesson.presence}\n\t\t\t\t\teditable={this.props.editable}\n\t\t\t\t\tonChange={(value) => this.handleChange(\"presence\", value)}\n\t\t\t\t\toptions={[{ label: \"Sterk aanbevolen\", value: \"required\" }, { label: \"Eigen keuze\", value: \"optional\" }]}\n\t\t\t\t/>\n\t\t\t</td>\n\t\t</Paper >;\n\t}\n\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetPresenceUserStatus: (lessonId, userStatus, groupId) => dispatch(setPresenceUserStatus(lessonId, userStatus, groupId)),\n\t};\n}\n\nexport default connect(null, mapDispatchToProps)(Lesson);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nimport Paper from '@material-ui/core/Paper';\nimport { Link, Typography } from '@material-ui/core';\nimport { connect } from \"react-redux\";\n\nclass UserRow extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tstyle: {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"auto\",\n\t\t\t\tmargin: \"0px\",\n\t\t\t\tpadding: \"10px\",\n\t\t\t},\n\t\t}\n\t}\n\n\tformatPhoneNumber(number) {\n\t\tif (number == null) {\n\t\t\tnumber = \"\";\n\t\t}\n\t\tlet numberWithoutCharacters = number.replace(/\\D/g, '');\n\t\tif (numberWithoutCharacters.length === 10) { // Either 06... or regional i.e. 024 ...\n\t\t\tif (numberWithoutCharacters[1] === \"6\") { // 06...\n\t\t\t\treturn (numberWithoutCharacters.substr(0, 2) + \" \" + numberWithoutCharacters.substr(2, 8));\n\t\t\t} else { // 024 ...\n\t\t\t\treturn (numberWithoutCharacters.substr(0, 3) + \" \" + numberWithoutCharacters.substr(3, 7));\n\t\t\t}\n\t\t}\n\t\tconst mobileTest = /(0031|31)0?(6)?([0-9]+)$/gm;\n\t\tconst match = mobileTest.exec(numberWithoutCharacters);\n\t\tif (match) {\n\t\t\tif (match[2]) { // +31 06 \n\t\t\t\treturn \"+31 06 \" + match[3];\n\t\t\t} else { // +31 ...\n\t\t\t\treturn \"+31 \" + match[3];\n\t\t\t}\n\t\t} else {\n\t\t\treturn number; // return input if unrecognizable \n\t\t}\n\t}\n\n\trender() {\n\t\tlet user = { ...this.props.user };\n\t\tlet style = { ...this.state.style };\n\t\tlet isExtendedUser = user.preferedEmail || user.phoneNumber || user.email;\n\n\t\treturn (\n\t\t\t<tr key={user.id}>\n\t\t\t\t<Paper\n\t\t\t\t\televation={this.state.hover ? 2 : 1}\n\t\t\t\t\tonMouseEnter={() => this.setState({ hover: true })}\n\t\t\t\t\tonMouseLeave={() => this.setState({ hover: false })}\n\t\t\t\t\tcomponent=\"td\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t>\n\t\t\t\t\t<div style={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<Typography variant=\"button\" color={user.role === \"teacher\" ? \"secondary\" : \"primary\"} style={{ flex: 1 }} >\n\t\t\t\t\t\t\t<Link href={`/gebruiker/${user.id}`} onClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tthis.props.history.push(`/gebruiker/${user.id}`);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{user.displayName}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.school}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.role}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t{user.id}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t{isExtendedUser ?\n\t\t\t\t\t\t<div style={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\"\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.preferedEmail}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.level + \" - \" + user.year}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{user.profile}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\" style={{ flex: 1 }} >\n\t\t\t\t\t\t\t\t{this.formatPhoneNumber(user.phoneNumber)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div> : null\n\t\t\t\t\t}\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</Paper >\n\t\t\t</tr>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state, { userId, children }) {\n\treturn {\n\t\trole: state.role,\n\t\tuser: state.users[userId],\n\t\tuserId,\n\t\tchildren,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(UserRow));\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport InputField from \"../../fields/InputField\"\nimport { Typography, Tooltip, TableSortLabel, Paper } from \"@material-ui/core\";\nimport UserRow from \"./UserRow\"\n\nclass UserList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hover: false,\n      filter: \"\",\n      sortValue: \"\",\n      sortDirection: \"\"\n    };\n  }\n\n  onSortChange = value => {\n    this.setState({\n      sortValue: value,\n      sortDirection:\n        this.state.sortDirection === \"desc\" && this.state.sortValue === value\n          ? \"asc\"\n          : \"desc\"\n    });\n  };\n\n  headerTitle(variant, value, title) {\n    let sortValue = this.state.sortValue;\n    let sortDirection = this.state.sortDirection === \"asc\" ? \"asc\" : \"desc\";\n    return (\n      <Typography\n        variant={variant}\n        color={variant === \"button\" ? \"primary\" : \"initial\"}\n        style={{ flex: 1 }}\n      >\n        <Tooltip title=\"Sorteer\" enterDelay={300} placement=\"bottom-start\">\n          <TableSortLabel\n            active={sortValue === value}\n            direction={sortDirection}\n            onClick={() => this.onSortChange(value)}\n            style={{ color: \"inherit\" }}\n          >\n            {title}\n          </TableSortLabel>\n        </Tooltip>\n      </Typography>\n    );\n  }\n\n  getHeader = () => {\n    let style = {\n      width: \"100%\",\n      height: \"auto\",\n      margin: \"0px\",\n      padding: \"10px\",\n      backgroundColor: \"#e0e0e0\"\n    };\n    let isExtendedUser = this.props.role === \"admin\";\n\n    return (\n      <tr key=\"header\">\n        <Paper\n          elevation={this.state.hover ? 2 : 1}\n          onMouseEnter={() => this.setState({ hover: true })}\n          onMouseLeave={() => this.setState({ hover: false })}\n          component=\"td\"\n          style={style}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\"\n            }}\n          >\n            {this.headerTitle(\"button\", \"name\", \"Naam\")}\n            {this.headerTitle(\"subtitle1\", \"school\", \"School\")}\n            {this.headerTitle(\"body1\", \"role\", \"Rol\")}\n            {this.headerTitle(\"body1\", \"id\", \"Gebruikers ID\")}\n          </div>\n          {isExtendedUser ? (\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\"\n              }}\n            >\n              {this.headerTitle(\"body1\", \"preferedEmail\", \"Voorkeurs email\")}\n              {this.headerTitle(\"body1\", \"levelAndYear\", \"Niveau - Leerjaar\")}\n              {this.headerTitle(\"body1\", \"profile\", \"Profiel\")}\n              {this.headerTitle(\"body1\", \"phoneNumber\", \"Telefoonnummer\")}\n            </div>\n          ) : null}\n        </Paper>\n      </tr>\n    );\n  };\n\n  getFilters = () => {\n    return <InputField\n      variant=\"outlined\"\n      value={this.state.filter}\n      td\n      label=\"Zoek\"\n      onChange={(filter) => this.setState({ filter })}\n    />;\n  }\n\n  sortAndFilterIds = () => {\n    const value = this.state.sortValue;\n    const direction = this.state.sortDirection;\n    const users = this.props.users;\n    const userIds = this.props.userIds;\n    return userIds\n      .filter(id => {\n        if (users[id] == null) return false;\n        const name = (users[id][\"displayName\"] + \"\").toLowerCase();\n        const filter = this.state.filter.toLowerCase();\n        return name.includes(filter);\n      })\n      .sort((a, b) => {\n        switch (value) {\n          case \"name\":\n            a = users[a][\"displayName\"];\n            b = users[b][\"displayName\"];\n            break;\n          case \"levelAndYear\":\n            a = (users[a][\"level\"] + users[a][\"year\"]).toString(); // to string because otherwise no level and year would result in a being an integer\n            b = (users[b][\"level\"] + users[b][\"year\"]).toString();\n            break;\n          default:\n            a = users[a][value];\n            b = users[b][value];\n        }\n        let cmp = (b == null) - (a == null) || +(a > b) || -(a < b);\n        return direction === \"asc\" ? cmp : -cmp;\n      });\n  };\n\n  render() {\n    const header = this.getHeader();\n    const users = this.sortAndFilterIds().map(id => {\n      return (\n        <UserRow key={id} userId={id} actions={this.props.actions} />\n      );\n    });\n    const filters = this.props.userIds.length > 50 ? this.getFilters() : null;\n    return (\n      <table style={{ width: \"100%\" }}>\n        <tbody>\n          {header}\n          <tr>\n            {filters}\n          </tr>\n          {users}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    users: state.users,\n    role: state.role,\n    userIds: ownProps.userIds,\n  };\n}\n\nexport default connect(mapStateToProps)(UserList);\n","import React, { Component } from 'react';\nimport { Prompt } from 'react-router-dom';\n\nclass PageLeaveWarning extends Component {\n\n\trender() {\n\t\tconst message = \"Weet je zeker dat je de pagina wilt verlaten? Er zijn nog niet-opgeslagen gegevens!\";\n\t\tif (this.props.giveWarning) {\n\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\te.returnValue = message;\n\t\t\t\treturn message;\n\t\t\t};\n\t\t} else {\n\t\t\twindow.onbeforeunload = null;\n\t\t}\n\t\treturn (\n\t\t\t<Prompt\n\t\t\t\twhen={this.props.giveWarning}\n\t\t\t\tmessage={location => message}\n\t\t\t/>\n\t\t);\n\t}\n\n}\n\nexport default PageLeaveWarning;","import React, { Component } from \"react\";\nimport map from \"lodash/map\";\n\nimport InputField from \"../../fields/InputField\";\nimport SelectField from \"../../fields/SelectField\";\n\nimport { Divider } from \"@material-ui/core\";\n\nclass GroupData extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handleClickAway = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  showTeacherCard = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  render() {\n    const editable = this.props.editable;\n    const role = this.props.role;\n    const onChange = this.props.onChange;\n    let group = this.props.group;\n    const courseId = \"#M\" + (this.props.group.courseId + \"\").padStart(4, \"0\");\n\n    return (\n      <div style={{ position: \"relative\" }}>\n        <div style={{ display: \"flex\" }}>\n          <InputField\n            value={group.courseName}\n            onChange={value => onChange(\"courseName\", value)}\n            editable={editable}\n            style={{ flex: \"5\" }}\n            validate={{ maxLength: 50 }}\n            typograpyProps={{ variant: \"h5\", color: \"primary\" }}\n          />\n          <SelectField\n            value={group.subjectId}\n            onChange={value => onChange(\"subjectId\", value)}\n            editable={editable}\n            typograpyProps={{ variant: \"h5\", color: \"primary\" }}\n            options={map(this.props.subjects, subject => {\n              return { value: subject.id, label: subject.name };\n            })}\n          />\n        </div>\n        <div\n          style={{ display: \"flex\" }}\n          className=\"ColumnFlexDirectionOnMobile\"\n        >\n          <div\n            style={{\n              width: \"30%\",\n              paddingRight: \"15px\",\n              display: \"flex\",\n              flexDirection: \"column\"\n            }}\n          >\n            <div style={{ display: \"flex\" }}>\n              <SelectField\n                value={group.period}\n                onChange={value => onChange(\"period\", value)}\n                editable={editable && role === \"admin\"}\n                style={{ flex: 1 }}\n                options={[\n                  { label: \"Blok 1\", value: 1 },\n                  { label: \"Blok 2\", value: 2 },\n                  { label: \"Blok 3\", value: 3 },\n                  { label: \"Blok 4\", value: 4 }\n                ]}\n              />\n              <SelectField\n                value={group.day}\n                onChange={value => onChange(\"day\", value)}\n                editable={editable && role === \"admin\"}\n                style={{ flex: 1 }}\n                options={[\n                  \"onbekend\",\n                  \"maandag\",\n                  \"dinsdag\",\n                  \"woensdag\",\n                  \"donderdag\",\n                  \"vrijdag\",\n                  \"zaterdag\",\n                  \"zondag\",\n                  \"niet van toepassing\",\n                ]}\n              />\n              <SelectField\n                value={group.schoolYear}\n                editable={editable && role === \"admin\"}\n                style={{ flex: 1 }}\n                onChange={value => onChange(\"schoolYear\", value)}\n                options={this.props.possibleYears}\n              />\n            </div>\n            <Divider style={{ margin: \"15px\" }} />\n            <InputField\n              value={group.enrollableFor}\n              label=\"Doelgroep\"\n              onChange={value => onChange(\"enrollableFor\", value)}\n              default=\"Iedereen\"\n              editable={editable}\n            />\n            <InputField\n              value={group.studyTime}\n              label=\"Studietijd\"\n              onChange={value => onChange(\"studyTime\", value)}\n              default=\"onbekend\"\n              editable={editable}\n              style={{ width: \"40%\" }}\n              unit=\"uur\"\n              validate={{ type: \"integer\" }}\n            />\n            <InputField\n              value={courseId}\n              label=\"Modulecode\"\n              editable={false}\n            />\n            <InputField\n              value={group.teacherName}\n              editable={false}\n              label=\"Hoofddocent\"\n            />\n          </div>\n          <div style={{ width: \"100%\" }}>\n            <InputField\n              value={group.courseDescription}\n              validate={{ maxLength: 440 }}\n              label=\"Omschrijving\"\n              onChange={value => onChange(\"courseDescription\", value)}\n              multiline\n              editable={editable}\n            />\n            <InputField\n              value={group.remarks}\n              label=\"Opmerkingen\"\n              onChange={value => onChange(\"remarks\", value)}\n              default=\"Geen voorkennis vereist\"\n              multiline\n              editable={editable}\n            />\n            <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n              <InputField\n                value={group.startTime}\n                label=\"Starttijd\"\n                onChange={value => onChange(\"startTime\", value)}\n                default=\"--:--\"\n                validate={{ type: \"time\" }}\n                editable={editable}\n                style={{ flex: \"0.1 1 0%\" }}\n              />\n              <InputField\n                value={group.endTime}\n                label=\"Eindtijd\"\n                validate={{ type: \"time\" }}\n                onChange={value => onChange(\"endTime\", value)}\n                default=\"--:--\"\n                editable={editable}\n                style={{ flex: \"0.1 1 0%\" }}\n              />\n            </div>\n          </div>\n        </div>\n        <br />\n      </div>\n    );\n  }\n}\n\nexport default GroupData;\n","import React, { Component } from \"react\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { connect } from 'react-redux';\nimport theme from \"../lib/MuiTheme\";\nimport { withStyles, Tooltip } from \"@material-ui/core\";\n\nconst style = {\n    colorPrimary:{\n        backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n        backgroundColor: \"#ff8c00\"\n    },\n    colorError: {\n        backgroundColor: theme.palette.error.main\n    }\n}\n\nclass NotificationBadge extends Component {\n\n\n    render() {\n        const notifications = this.props.notifications;\n        const classes = this.props.classes;\n        let color = \"primary\";\n        let tooltipMessage = notifications.length > 0 ? notifications[0].message : \"\";\n        for ( let i = 0; i < notifications.length; i ++ ) { \n            if (notifications[i].priority === \"medium\" || notifications[i].priority === \"high\" ){\n                color=\"secondary\";\n                tooltipMessage=notifications[i].message;\n                for ( let j = i ; j < notifications.length; j++ ) {\n                    if ( notifications[j].priority === \"high\" ) {\n                        color = \"error\"\n                        tooltipMessage = notifications[j].message;\n                        break;\n                    }\n                }\n                break\n            }\n        }// tooltip is first message of highest priority\n        //color is highest priority\n\n        return (\n            <Tooltip title={tooltipMessage} >\n                <Badge badgeContent={notifications.length} classes={classes} color={color} >\n                    {this.props.children}\n                </Badge>\n            </Tooltip>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tlet notifications = state.notifications.filter((not) => {\n\t\ttry {\n            return not.type === \"badge\" && RegExp(not.scope).test(ownProps.scope);\n\t\t} catch (err) {\n\t\t\treturn true;\n\t\t}\n    });\n\treturn {\n\t\tnotifications: notifications,\n\t};\n}\n\nexport default withStyles(style)(connect(mapStateToProps,null)(NotificationBadge));","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport map from \"lodash/map\";\n\nimport SelectField from \"./SelectField\";\nimport { getAllUsers } from \"../store/actions\";\n\nclass SelectUser extends Component {\n\n  componentDidMount() {\n    this.props.getAllUsers();\n  }\n\n  render() {\n    const options = map(this.props.users,({displayName, id}) => {\n      return {\n        label: displayName,\n        value: id,\n      }\n    });\n    return <SelectField \n      label=\"Gebruiker\"\n      options={options}\n      value={this.props.value}\n      editable\n      onChange={this.props.onChange}\n    />\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    users: state.users\n  };\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getAllUsers: () => dispatch(getAllUsers())\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectUser);\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport map from 'lodash/map';\n\nimport PresenceTable from './PresenceTable';\nimport Lesson from './Lesson';\nimport { EvaluationTab, isCertificateWorthy } from './Evaluation';\nimport Page from '../Page';\nimport UserList from \"../user/UserList\"\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Progress from '../../components/Progress'\nimport PageLeaveWarning from '../../components/PageLeaveWarning'\nimport GroupData from './GroupData';\nimport ChooseButton from './ChooseButton';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport queryString from \"query-string\";\nimport NotificationBadge from '../../components/NotificationBadge';\nimport UserField from '../../fields/UserField';\nimport { Typography, Tooltip } from '@material-ui/core';\nimport SelectField from '../../fields/SelectField';\n\nclass GroupPage extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\teditable: false,\n\t\t\tgroup: this.props.group,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: \"student\",\n\t\t\t\tuserId: null,\n\t\t\t}\n\t\t}\n\n\t\tswitch (this.props.role) {\n\t\t\tcase \"student\":\n\t\t\t\tif (this.props.userIsMemberOfGroup) {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\", \"Deelnemers\"];\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\"];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"teacher\":\n\t\t\t\tif (this.props.userIsMemberOfGroup) {\n\t\t\t\t\tthis.state.tabs = [\"Lessen\", \"Inschrijvingen\", \"Deelnemers\", \"Actief\", \"Beoordeling\"];\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.tabs = [\"Inschrijvingen\", \"Deelnemers\", \"Lessen\"];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"admin\":\n\t\t\tcase \"grade_admin\":\n\t\t\t\tthis.state.tabs = [\"Inschrijvingen\", \"Lessen\", \"Deelnemers\", \"Actief\", \"Beoordeling\"];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tgroup: {\n\t\t\t\t...nextProps.group,\n\t\t\t\t...prevState.group,\n\t\t\t},\n\t\t\tcurrentTab: values.tab ? values.tab : prevState.tabs[0]\n\t\t}\n\t}\n\n\tgetCurrentTab(currentTab) {\n\t\tlet group = this.state.group;\n\t\tconst enrollmentIds = this.props.group.enrollmentIds;\n\t\tconst lessons = this.state.group.lessons;\n\t\tconst participantIds = this.state.group.participantIds;\n\t\tconst evaluations = this.state.group.evaluations;\n\t\tconst presence = this.state.group.presence;\n\t\tconst newParticipant = this.state.newParticipant;\n\n\t\tswitch (currentTab) {\n\t\t\tcase \"Inschrijvingen\":\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (enrollmentIds.length === 0) {\n\t\t\t\t\treturn \"Er zijn geen inschrijvingen\";\n\t\t\t\t}\n\t\t\t\treturn <UserList userIds={enrollmentIds} actions={\n\t\t\t\t\tthis.props.role === \"admin\" && this.state.editable ?\n\t\t\t\t\t\t[{ label: \"Goedkeuren\", onClick: this.acceptEnrollment }] : []\n\t\t\t\t} />;\n\t\t\tcase \"Lessen\":\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tif (lessons.length === 0) {\n\t\t\t\t\treturn \"Er zijn nog geen lessen bekend\";\n\t\t\t\t}\n\t\t\t\treturn <table style={{ width: \"100%\", tableLayout: \"fixed\" }}>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{map(lessons, lesson => {\n\t\t\t\t\t\t\treturn <Lesson\n\t\t\t\t\t\t\t\tlesson={lesson}\n\t\t\t\t\t\t\t\tkey={lesson.id}\n\t\t\t\t\t\t\t\trole={this.props.role}\n\t\t\t\t\t\t\t\tuserIsMemberOfGroup={this.props.userIsMemberOfGroup}\n\t\t\t\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\t\t\t\thandleChange={this.handleLessonChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\tcase \"Deelnemers\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\tconst canAddNewParticipant =\n\t\t\t\t\t!participantIds.includes(newParticipant.userId) &&\n\t\t\t\t\t!(enrollmentIds != null &&\n\t\t\t\t\t\tenrollmentIds.includes(newParticipant.userId)) &&\n\t\t\t\t\tnewParticipant.userId;\n\t\t\t\tconst cantAddReason = canAddNewParticipant ? \"\" : (newParticipant.userId ? \"Deze gebruiker heeft zich al ingeschreven of is al een deelnemer\" : \"Vul een deelnemer in\");\n\t\t\t\treturn (\n\t\t\t\t\t<div >\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.role === \"admin\" && this.state.editable &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant=\"button\" color=\"primary\" style={{ margin: \"18px 12px\" }}>\n\t\t\t\t\t\t\t\t\tNieuwe deelnemer:\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div style={{ display: \"inline-flex\" }}>\n\t\t\t\t\t\t\t\t\t<UserField onChange={this.handleNewParticipantIdChange} value={newParticipant.userId} />\n\t\t\t\t\t\t\t\t\t<SelectField editable label=\"Rol\" value={newParticipant.participatingRole} options={[{ value: \"student\", label: \"Leerling\" }, { value: \"teacher\", label: \"Expert\" }]} onChange={this.handleNewParticipantRoleChange} />\n\t\t\t\t\t\t\t\t\t<Tooltip title={cantAddReason} placement={\"bottom-start\"}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!canAddNewParticipant}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\" style={{ marginTop: \"22px\" }} onClick={this.addNewParticipant}>\n\t\t\t\t\t\t\t\t\t\t\t\tVoeg toe\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparticipantIds.length === 0 ? \"Er zijn nog geen deelnemers toegevoegd\" :\n\t\t\t\t\t\t\t\t<UserList userIds={participantIds} />\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase \"Actief\":\n\t\t\t\tif (participantIds == null || lessons == null || presence == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn <PresenceTable\n\t\t\t\t\tparticipantIds={participantIds}\n\t\t\t\t\tlessons={lessons}\n\t\t\t\t\tpresence={presence}\n\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\thandleChange={this.handlePresenceChange}\n\t\t\t\t/>\n\t\t\tcase \"Beoordeling\":\n\t\t\t\tif (participantIds == null || evaluations == null) {\n\t\t\t\t\treturn <Progress />;\n\t\t\t\t}\n\t\t\t\treturn <EvaluationTab\n\t\t\t\t\tevaluations={evaluations}\n\t\t\t\t\tgroupId={group.id}\n\t\t\t\t\teditable={this.state.editable}\n\t\t\t\t\thandleChange={this.handleEvaluationChange}\n\t\t\t\t/>\n\t\t\tdefault: return null;\n\t\t}\n\n\t}\n\n\tacceptEnrollment = userId => {\n\t\tthis.props.addParticipant(userId, this.props.groupId, \"student\");\n\t}\n\n\taddNewParticipant = event => {\n\t\tconst newParticipant = this.state.newParticipant;\n\t\tthis.props.addParticipant(newParticipant.userId, this.props.groupId, newParticipant.participatingRole);\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: prevState.newParticipant.participatingRole,\n\t\t\t\tuserId: null,\n\t\t\t}\n\t\t}))\n\t}\n\n\thandleNewParticipantRoleChange = value => {\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tparticipatingRole: value,\n\t\t\t\tuserId: prevState.newParticipant.userId,\n\t\t\t},\n\t\t}))\n\t}\n\n\thandleNewParticipantIdChange = value => {\n\t\tthis.setState(prevState => ({\n\t\t\t...prevState,\n\t\t\tnewParticipant: {\n\t\t\t\tuserId: value,\n\t\t\t\tparticipatingRole: prevState.newParticipant.participatingRole,\n\t\t\t},\n\t\t}))\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getData();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.getData();\n\t\tthis.handleExternalGroupChange(this.props.group);\n\t}\n\n\tgetData() {\n\t\tlet group = this.state.group;\n\t\tconst enrollmentIds = this.state.group.enrollmentIds;\n\t\tconst lessons = this.state.group.lessons;\n\t\tconst participantIds = this.state.group.participantIds;\n\t\tconst evaluations = this.state.group.evaluations;\n\t\tconst presence = this.state.group.presence;\n\n\t\tswitch (this.state.currentTab) {\n\t\t\tcase \"Inschrijvingen\":\n\t\t\t\tif (enrollmentIds == null) {\n\t\t\t\t\tthis.props.getGroupEnrollments(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Lessen\":\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\tthis.props.getGroupLessons(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Deelnemers\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Actief\":\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tif (lessons == null) {\n\t\t\t\t\tthis.props.getGroupLessons(group.id);\n\t\t\t\t}\n\t\t\t\tif (presence == null) {\n\t\t\t\t\tthis.props.getGroupPresence(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Beoordeling\":\n\t\t\t\tif (evaluations == null) {\n\t\t\t\t\tthis.props.getGroupEvaluations(group.id);\n\t\t\t\t}\n\t\t\t\tif (participantIds == null) {\n\t\t\t\t\tthis.props.getGroupParticipants(group.id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault: break;\n\t\t}\n\t}\n\n\thandleExternalGroupChange = (newGroup) => {\n\t\tif (!this.state.editable && JSON.stringify(newGroup) !== JSON.stringify(this.state.group)) {\n\t\t\tthis.setState({\n\t\t\t\tgroup: newGroup,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\t[name]: value,\n\t\t\t}\n\t\t});\n\t}\n\n\thandleLessonChange = (lesson) => {\n\t\tlet lessons = this.state.group.lessons || this.props.group.lessons;\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tlessons: {\n\t\t\t\t\t...lessons,\n\t\t\t\t\t[lesson.id]: lesson,\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\thandleEvaluationChange = (newEvaluations) => {\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tevaluations: newEvaluations,\n\t\t\t}\n\t\t});\n\t}\n\n\thandlePresenceChange = (presenceObj) => {\n\t\tlet presence = this.state.group.presence || this.props.group.presence;\n\t\tthis.setState({\n\t\t\tgroup: {\n\t\t\t\t...this.state.group,\n\t\t\t\tpresence: {\n\t\t\t\t\t...presence,\n\t\t\t\t\t[presenceObj.id]: presenceObj,\n\t\t\t\t},\n\t\t\t}\n\t\t});\n\t}\n\n\tsetEditable = () => {\n\t\tthis.setState({\n\t\t\teditable: true,\n\t\t});\n\t}\n\n\tcancel = () => {\n\t\tthis.setState({\n\t\t\teditable: false,\n\t\t\tgroup: this.props.group,\n\t\t});\n\t}\n\n\tsave = () => {\n\t\tthis.props.setGroup(this.state.group);\n\t\tthis.setState({\n\t\t\teditable: false,\n\t\t});\n\t}\n\n\thandleTab = (event, newTab) => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"tab=\" + this.state.tabs[newTab],\n\t\t});\n\t};\n\n\topenCertificate = () => {\n\t\tconst groupId = this.props.group.id;\n\t\tconst userId = this.props.userId;\n\n\t\twindow.open(\"/certificaat/gebruiker/\" + userId.toString() + \"/groep/\" + groupId.toString(), \"_blank\");\n\t}\n\n\trender() {\n\t\tconst editable = this.state.editable;\n\t\tconst role = this.props.role;\n\t\tlet group = this.state.group;\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<GroupData {...this.props} editable={editable} group={group} onChange={this.handleChange} />\n\t\t\t\t<Divider />\n\t\t\t\t<div style={{ display: \"flex\" }}>\n\t\t\t\t\t{\n\t\t\t\t\t\trole === \"student\" &&\n\t\t\t\t\t\t<ChooseButton\n\t\t\t\t\t\t\tgroup={group}\n\t\t\t\t\t\t\tstyle={{ margin: \"20px\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\t((role === \"teacher\" || role === \"admin\") && !editable) &&\n\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.setEditable}>\n\t\t\t\t\t\t\t{\"Bewerken\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\teditable &&\n\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.save}>\n\t\t\t\t\t\t\t{\"Opslaan\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\teditable &&\n\t\t\t\t\t\t<Button color=\"default\" style={{ margin: \"20px\" }} onClick={this.cancel}>\n\t\t\t\t\t\t\t{\"Annuleren\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t<div style={{ flex: \"2\" }} />\n\t\t\t\t\t{\n\t\t\t\t\t\t(isCertificateWorthy(group.evaluation))\n\t\t\t\t\t\t&&\n\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" style={{ margin: \"20px\" }} onClick={this.openCertificate}>\n\t\t\t\t\t\t\t{role === \"student\" ? \"Certificaat\" : \"Certificaten\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<AppBar position=\"static\" color=\"default\">\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tvalue={this.state.tabs.indexOf(this.state.currentTab)}\n\t\t\t\t\t\tonChange={this.handleTab}\n\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\tvariant=\"fullWidth\"\n\t\t\t\t\t\tcentered\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.state.tabs.map(tab =>\n\t\t\t\t\t\t\t<Tab key={tab} label={\n\t\t\t\t\t\t\t\t<NotificationBadge scope={\"groep/\" + (group.id || \"\") + \"?tab=\" + tab} style={{ paddingLeft: \"100px\" }}>\n\t\t\t\t\t\t\t\t\t{tab}\n\t\t\t\t\t\t\t\t</NotificationBadge>\n\t\t\t\t\t\t\t} />)}\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<br />\n\t\t\t\t<div style={{ width: \"98%\", margin: \"auto\" }}>\n\t\t\t\t\t{this.getCurrentTab(this.state.currentTab)}\n\t\t\t\t</div>\n\t\t\t\t<PageLeaveWarning giveWarning={this.state.editable} />\n\t\t\t</Page>\n\t\t);\n\t}\n\n}\n\n\n\nexport default withRouter(GroupPage);\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport GroupCard from \"./GroupCard\";\nimport GroupPage from \"./GroupPage\";\nimport {\n\tsetGroup,\n\tgetGroup,\n\tgetGroupEnrollments,\n\tgetGroupLessons,\n\tgetGroupParticipants,\n\tgetGroupEvaluations,\n\tgetGroupPresence,\n\tgetSubjects,\n\taddNotification,\n\taddParticipant,\n} from \"../../store/actions\";\nimport { withRouter } from 'react-router-dom';\nimport Progress from '../../components/Progress'\nimport Page from '../Page';\n\nclass Group extends Component {\n\n\tcomponentDidMount() {\n\t\tconst props = this.props;\n\t\tif (props.subjects == null) {\n\t\t\tprops.getSubjects();\n\t\t}\n\t\tif (props.group == null && !props.notExists) {\n\t\t\tprops.getGroup(props.groupId);\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.props.group == null) {\n\t\t\tif (this.props.display === \"page\" && this.props.notExists) {\n\t\t\t\treturn (\n\t\t\t\t\t<Page>\n\t\t\t\t\t\tDe opgevraagde groep bestaat niet\n\t\t\t\t\t</Page>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn this.props.notExists ? null : <Progress />;\n\t\t\t}\n\t\t}\n\t\tswitch (this.props.display) {\n\t\t\tcase \"page\":\n\t\t\t\treturn (\n\t\t\t\t\t<GroupPage {...this.props} />\n\t\t\t\t);\n\t\t\tcase \"card\":\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<GroupCard {...this.props} />\n\t\t\t\t);\n\t\t}\n\t}\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n\tlet id = (ownProps.match.params.groupId || ownProps.groupId) + \"\";\n\tlet display = ownProps.display || \"page\";\n\n\tlet notExists = false;\n\tlet group = null;\n\n\tlet userIsMemberOfGroup = state.users[state.userId].participatingGroupIds.indexOf(id) !== -1;\n\tif (state.groups == null || state.groups[id] == null) {\n\t\tif (id == null || state.hasFetched.indexOf(\"Group.get(\" + id + \")\") !== -1) {\n\t\t\tnotExists = true;\n\t\t}\n\t} else {\n\t\tgroup = state.groups[id];\n\t}\n\treturn {\n\t\tgroup,\n\t\tnotExists,\n\t\tdisplay,\n\t\trole: state.role,\n\t\tgroupId: id,\n\t\tsubjects: state.subjects,\n\t\tuserId: state.userId,\n\t\tuserIsMemberOfGroup,\n\t\tschoolYear: state.schoolYear,\n\t\tpossibleYears: state.possibleYears,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetGroup: (group) => dispatch(setGroup(group)),\n\t\tgetGroup: (groupId) => dispatch(getGroup(groupId)),\n\t\tgetGroupEnrollments: (groupId) => dispatch(getGroupEnrollments(groupId)),\n\t\tgetGroupLessons: (groupId) => dispatch(getGroupLessons(groupId)),\n\t\tgetGroupParticipants: (groupId) => dispatch(getGroupParticipants(groupId)),\n\t\tgetGroupEvaluations: (groupId) => dispatch(getGroupEvaluations(groupId)),\n\t\tgetGroupPresence: (groupId) => dispatch(getGroupPresence(groupId)),\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\taddParticipant: (userId, groupId, participatingRole) => dispatch(addParticipant(userId, groupId, participatingRole)),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Group));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport filter from 'lodash/filter';\nimport map from 'lodash/map';\n\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Group from './group/Group';\nimport { getSubjects, getGroups, getEnrolLments } from '../store/actions';\n\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport queryString from \"query-string\";\nimport SelectField from '../fields/SelectField';\n\nclass CourseSelect extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tperiod: props.currentPeriod,\n\t\t\tleerjaar: props.schoolYear,\n\t\t\tsubject: null,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet { blok, vak, leerjaar } = queryString.parse(nextProps.location.search);\n\t\tif (!vak && nextProps.subjects != null) {\n\t\t\tconst normalSubjects = filter(nextProps.subjects, subject => subject.name[0] !== \"@\");\n\t\t\tvak = normalSubjects[0].name;\n\t\t}\n\t\tif (!blok) {\n\t\t\tblok = nextProps.enrollmentPeriod + \"\";\n\t\t}\n\t\tif (!leerjaar) {\n\t\t\tleerjaar = nextProps.schoolYear;\n\t\t}\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tperiod: blok,\n\t\t\tsubject: vak,\n\t\t\tschoolYear: leerjaar,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getSubjects();\n\t\tthis.props.getGroups();\n\t}\n\n\tgetGroupsPerSubject(subject) {\n\t\treturn filter(this.props.groups, (group) => {\n\t\t\treturn subject === group.subjectName;\n\t\t})\n\t}\n\n\thandleSortChange = subject => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${subject}&blok=${this.state.period}&leerjaar=${this.state.schoolYear}`,\n\t\t});\n\t};\n\n\thandlePeriodChange = period => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${this.state.subject}&blok=${period}&leerjaar=${this.state.schoolYear}`,\n\t\t});\n\t};\n\n\thandleYearChange = schoolYear => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `vak=${this.state.subject}&blok=${this.state.period}&leerjaar=${schoolYear}`,\n\t\t});\n\t};\n\n\tgetMenuItem(title, subject) {\n\t\tlet color = (this.state.subject === subject) ? \"primary\" : \"initial\";\n\t\treturn (\n\t\t\t<ListItem button onClick={() => this.handleSortChange(subject)} key={title}>\n\t\t\t\t<ListItemText>\n\t\t\t\t\t<Typography variant=\"button\" color={color} style={{ minWidth: \"150px\" }}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t</ListItemText>\n\t\t\t</ListItem >\n\t\t)\n\t}\n\n\tgetMenuItems() {\n\t\tconst role = this.props.role;\n\t\tlet subjects = map(this.props.subjects, subject => subject);\n\t\tif (role !== \"admin\") {\n\t\t\tsubjects = subjects.filter(subject => subject.name[0] !== \"@\");\n\t\t}\n\t\tlet subjectsComponents = subjects.map(subject => this.getMenuItem(subject.name, subject.name));\n\t\tif (role === \"student\") {\n\t\t\tsubjectsComponents.unshift(this.getMenuItem(\"Ingeschreven\", \"enrolled\"));\n\t\t}\n\t\treturn subjectsComponents;\n\t}\n\n\trender() {\n\t\tlet data;\n\t\tif (this.state.subject === \"enrolled\") {\n\t\t\tif (this.props.enrolledGroupsIds == null) {\n\t\t\t\tdata = <Progress />;\n\t\t\t\tthis.props.getEnrolLments();\n\t\t\t} else {\n\t\t\t\tdata = this.props.enrolledGroupsIds.map((groupId) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\tkey={groupId}\n\t\t\t\t\t\t\tgroupId={groupId}\n\t\t\t\t\t\t\tdisplay=\"card\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tif (this.props.enrolledGroupsIds.length === 0) {\n\t\t\t\t\tdata = (\n\t\t\t\t\t\t<div style={{ margin: \"15px\" }} >\n\t\t\t\t\t\t\tJe hebt je nog niet ingeschreven.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.props.subjects == null || this.props.groups == null || this.props.enrolledGroups === []) {\n\t\t\t\tdata = <Progress />\n\t\t\t}\n\t\t\tdata = this.getGroupsPerSubject(this.state.subject)\n\t\t\t\t.filter((group) => group != null)\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tif (this.state.period !== \"all\") {\n\t\t\t\t\t\treturn group.period + \"\" === this.state.period;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.filter((group) => {\n\t\t\t\t\tif (this.state.schoolYear !== \"all\") {\n\t\t\t\t\t\treturn group.schoolYear + \"\" === this.state.schoolYear;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => a.period - b.period)\n\t\t\t\t.map((group) => {\n\t\t\t\t\treturn <Group\n\t\t\t\t\t\tkey={group.id}\n\t\t\t\t\t\tgroupId={group.id}\n\t\t\t\t\t\tdisplay=\"card\"\n\t\t\t\t\t/>\n\t\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper style={{ position: \"relative\" }} >\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }} >\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\tSchrijf je in voor modules\n          \t</Typography>\n\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\tlabel=\"blok\"\n\t\t\t\t\t\t\tvalue={this.state.period}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 1\", value: \"1\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 2\", value: \"2\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 3\", value: \"3\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 4\", value: \"4\" }]}\n\t\t\t\t\t\t\tonChange={this.handlePeriodChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\tvalue={this.state.schoolYear}\n\t\t\t\t\t\t\tlabel=\"schooljaar\"\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t\t...this.props.possibleYears.map((year) => { return { label: year, value: year } })\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tstyle={{ flex: \"1\", marginLeft: \"20px\" }}\n\t\t\t\t\t\t\tonChange={this.handleYearChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<List component=\"nav\" style={{ flex: 1 }}>\n\t\t\t\t\t\t\t{this.getMenuItems()}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<div style={{ padding: \"12px\" }}>\n\t\t\t\t\t\t{data}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t</Page >\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\trole: state.role,\n\t\tenrollmentPeriod: state.enrollmentPeriod,\n\t\tenrollableGroups: state.enrollableGroups,\n\t\tgroups: state.groups,\n\t\tsubjects: state.subjects,\n\t\tschoolYear: state.schoolYear,\n\t\tenrolledGroupsIds: state.users[state.userId].enrollmentIds,\n\t\tpossibleYears: state.possibleYears,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetGroups: () => dispatch(getGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CourseSelect);\n\n\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport {\n  Paper,\n  Typography,\n  Table,\n  TableHead,\n  TableCell,\n  TableBody,\n  TableRow,\n  Tooltip,\n  TableSortLabel,\n  Toolbar,\n  Button,\n  IconButton\n} from \"@material-ui/core\";\nimport { VerticalAlignBottom } from \"@material-ui/icons\";\nimport queryString from \"query-string\";\nimport Excel from \"exceljs/dist/es5/exceljs.browser\";\n\nimport Page from \"./Page\";\nimport Progress from \"../components/Progress\";\nimport EnsureSecureLogin from \"../components/EnsureSecureLogin\";\nimport $ from \"jquery\";\nimport SelectField from \"../fields/SelectField\";\n\nconst splitOnDefault = {\n  users: \"Hoofdrol\",\n  evaluations: \"Groepcode\",\n  enrollments: \"Inschrijfperiode\",\n  courseIds: \"Niet splitsen\",\n};\n\nclass DataPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tables: null,\n      tableSortColumns: {},\n      tableSortDirections: {},\n      data: \"enrollments\",\n      hasFetched: false,\n      splitOn: \"Niet splitsen\",\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let values = queryString.parse(nextProps.location.search);\n    return {\n      ...prevState,\n      ...{\n        data: values.data ? values.data : \"enrollments\"\n      }\n    };\n  }\n\n  handleShowData = () => {\n    this.setState({\n      hasFetched: true\n    });\n    const splitOn = splitOnDefault[this.state.data];\n    this.fetchData(this.state.data)\n      .then(tables =>\n        this.setState({\n          splitOn,\n          tables: this.splitTable(tables, splitOn),\n          tableSortColumns: Array(tables.length)\n        }));\n  };\n\n  handleFilterChange = value => {\n    this.props.history.push({\n      search: \"data=\" + value\n    });\n  };\n\n  handleSplitChange = splitOn => {\n    const oldTables = this.state.tables;\n    let newTables = [this.state.tables[0][0], ...oldTables\n      .map(arr => arr.slice(1, arr.length))\n      .flat(1)]\n\n    this.setState({\n      splitOn,\n      tables: this.splitTable(newTables, splitOn),\n    })\n  }\n\n  sort = tableIndex => {\n    let table = this.state.tables[tableIndex];\n    const column = this.state.tableSortColumns[tableIndex];\n    const order = this.state.tableSortDirections[tableIndex];\n\n    table = [table[0]].concat(\n      table.slice(1, table.length).sort((a, b) => {\n        //Only sort the slice 1-table.length because the header has to stick\n        a = a[column];\n        b = b[column];\n        const cmp = (b == null) - (a == null) || +(a > b) || -(a < b);\n        return order === \"asc\" ? cmp : -cmp;\n      })\n    );\n\n    this.setState(prevState => ({\n      tables: [\n        ...prevState.tables.slice(0, tableIndex),\n        table,\n        ...prevState.tables.slice(tableIndex + 1)\n      ]\n    }));\n  };\n\n  handleSortChange = (tableIndex, columnIndex) => {\n    const prevState = this.state;\n    this.setState({\n      //update the correct elements of the arrays of the state\n      tableSortColumns: {\n        ...prevState.tableSortColumns,\n        [tableIndex]: columnIndex\n      },\n      tableSortDirections: {\n        ...prevState.tableSortDirections,\n        [tableIndex]:\n          prevState.tableSortDirections[tableIndex] === \"desc\" &&\n            prevState.tableSortColumns[tableIndex] === columnIndex\n            ? \"asc\"\n            : \"desc\" // if this columns was selected and ordering desc, change to asc else desc\n      }\n    },\n      () => this.sort(tableIndex)\n    ); // when setting state is done start sorting\n  };\n\n  splitTable = (table, splitValue) => {\n    let splitIndex = table[0].findIndex(x => x === splitValue);\n    if (splitIndex < 0) {\n      return [table];\n    }\n    let tables = [[table[0], table[1]]]; // initialize the tables with one table that has a header and a row\n    for (let i = 2; i < table.length; i++) {\n      let tableIndex = tables.findIndex(\n        halfSplitTable => halfSplitTable[1][splitIndex] === table[i][splitIndex]\n      ); // see in what table this row has to go\n      if (tableIndex < 0) {\n        tables.push([table[0]]); // add a new table with a new header if a new value is found\n        tableIndex = tables.length - 1;\n      }\n      tables[tableIndex].push(table[i]); // add row to correct table\n    }\n    return tables;\n  };\n\n  fetchData = table => {\n    return $.ajax({\n      url: \"api/function/data\",\n      type: \"post\",\n      data: {\n        table,\n        secureLogin: this.props.secureLogin\n      },\n      dataType: \"json\"\n    });\n  };\n\n  downloadTables = () => {\n    const tables = this.state.tables;\n    let workbook = new Excel.Workbook();\n    const splitIndex = tables[0][0].findIndex(x => x === this.state.splitOn);\n    for (let i = 0; i < tables.length; i++) {\n      // add all the tables to a different sheet\n      // the sheet has the name of the value it's split on. I.e when splitting on courses every page is called what course it contains\n      const sheetName = this.getValidWorksheetName(tables[i][1][splitIndex]);\n      let sheet = workbook.addWorksheet(sheetName);\n      sheet.addRows(tables[i]);\n      for (let j = 1; j <= tables[i][0].length; j++) {\n        sheet.getColumn(j).width =\n          tables[i][0][j - 1].length < 10 ? 10 : tables[i][0][j - 1].length + 2; //set each column to at least fit the header\n      }\n    }\n    const filenamePrefixes = {\n      users: \"Gebruikers \",\n      enrollments: \"Inschrijvingen \",\n      evaluations: \"Beoordelingen \",\n      courseIds: \"Modulecodes \"\n    };\n    let filename =\n      filenamePrefixes[this.state.data] + \"\" +\n      new Date().toLocaleDateString() +\n      \".xlsx\";\n    this.downloadWorkbook(workbook, filename); //gives for example: \"Gebruikers 3/3/2019.xlsx\"\n  };\n\n  getValidWorksheetName = (name) => { // excel has worksheet naming restrictions\n    name = name + \"\";\n    if (name.length > 31) {\n      name = name.substring(0, 30);\n      console.log('Worksheet name length cannot exceed 31 characters. Name has been shortened.');\n    }\n    let illegalCharacters = /(\\\\|\\/|\\*|\\?|:|\\[|\\])/g\n    if (illegalCharacters.test(name)) {\n      name = name.replace(illegalCharacters, '_');\n      console.log('Worksheet name cannot include one of the following chracters: \\\\, /, *, ?, :, [, ]. \\n Illegal characters have been changed to _ ');\n    }\n    if (name == null || name === \"\") {\n      name = \"_leeg_\";\n    }\n    return name;\n  }\n\n  downloadWorkbook = (workbook, fileName) => {\n    //magic\n    workbook.xlsx\n      .writeBuffer({\n        base64: true\n      })\n      .then(function (xls64) {\n        var a = document.createElement(\"a\");\n        var data = new Blob([xls64], {\n          type:\n            \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n        });\n        var url = URL.createObjectURL(data);\n        a.href = url;\n        a.download = fileName;\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(function () {\n          document.body.removeChild(a);\n          window.URL.revokeObjectURL(url);\n        }, 0);\n      })\n      .catch(function (error) {\n        console.log(\n          \"Something went wrong with downloading the excel file: \" +\n          error.message\n        );\n      });\n  };\n\n  forceCellWidth = cellName => {\n    switch (cellName) {\n      case \"Vaknaam\":\n        return \"200px\";\n      case \"Weergavenaam\":\n        return \"200px\";\n      case \"Modulenaam\":\n        return \"300px\";\n      case \"Uitleg beoordeling\":\n        return \"200px\";\n      default:\n        return \"auto\";\n    }\n  };\n\n  render() {\n    let content;\n    if (this.state.tables == null) {\n      if (this.state.hasFetched) {\n        content = <Progress style={{ marginTop: \"100px\" }} />;\n      } else {\n        content = (\n          <Typography variant=\"body1\" style={{ marginTop: \"100px\" }}>\n            Klik op \"Laad gegevens\" om de gegevens te tonen\n          </Typography>\n        );\n      }\n    } else {\n      content = this.state.tables.map((table, tableIndex) => {\n        return (\n          <Table key={tableIndex} style={{ marginTop: \"100px\" }}>\n            <TableHead>\n              <TableRow key={0} style={{ height: \"auto\" }}>\n                {table[0].map((title, columnIndex) => {\n                  return (\n                    <TableCell\n                      key={columnIndex}\n                      style={{\n                        color: \"black\",\n                        backgroundColor: \"#e0e0e0\",\n                        fontSize: 13,\n                        top: 0\n                      }}\n                    >\n                      <Tooltip\n                        title=\"Sorteer\"\n                        enterDelay={300}\n                        placement=\"bottom-start\"\n                      >\n                        <TableSortLabel\n                          active={\n                            this.state.tableSortColumns[tableIndex] ===\n                            columnIndex\n                          }\n                          direction={this.state.tableSortDirections[tableIndex]}\n                          onClick={event =>\n                            this.handleSortChange(tableIndex, columnIndex)\n                          }\n                          style={{ zIndex: 0 }}\n                        >\n                          <span style={{ width: this.forceCellWidth(title) }}>\n                            {title}\n                          </span>\n                        </TableSortLabel>\n                      </Tooltip>\n                    </TableCell>\n                  );\n                })}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {table\n                .filter((_, index) => {\n                  return index > 0;\n                }) //take everything but the header\n                .map((row, rowIndex) => {\n                  return (\n                    <TableRow key={rowIndex + 1} style={{ height: \"auto\" }}>\n                      {row.map((cell, columnIndex) => {\n                        return <TableCell key={columnIndex}>{cell}</TableCell>;\n                      })}\n                    </TableRow>\n                  );\n                })}\n            </TableBody>\n          </Table>\n        );\n      });\n    }\n    return (\n      <Page>\n        <EnsureSecureLogin>\n          <Paper\n            elevation={2}\n            style={{\n              zIndex: 1,\n              position: \"absolute\",\n              width: \"85%\"\n            }}\n          >\n            <Toolbar style={{ display: \"flex\" }}>\n              <Typography\n                variant=\"subtitle1\"\n                color=\"textSecondary\"\n                style={{ flex: \"6\", margin: \"5px\" }}\n              >\n                Gegevens\n              </Typography>\n              <SelectField\n                label=\"Gegevens van\"\n                value={this.state.data}\n                editable\n                options={[\n                  { label: \"Beoordelingen\", value: \"evaluations\" },\n                  { label: \"Gebruikers\", value: \"users\" },\n                  { label: \"Inschrijvingen\", value: \"enrollments\" },\n                  { label: \"Module codes\", value: \"courseIds\" }\n                ]}\n                style={{ flex: \"3\", margin: \"5px\" }}\n                onChange={this.handleFilterChange}\n              />\n              <Button\n                variant=\"outlined\"\n                onClick={this.handleShowData}\n                style={{ flex: \"2\", margin: \"5px\" }}\n              >\n                Laad gegevens\n              </Button>\n              <SelectField\n                value={this.state.splitOn}\n                label=\"Splits op\"\n                options={this.state.tables ? [...this.state.tables[0][0], \"Niet splitsen\"] : [\"Niet splitsen\"]}\n                editable={this.state.hasFetched}\n                onChange={this.handleSplitChange}\n                style={{ flex: \"3\", margin: \"5px\" }}\n              />\n              <IconButton onClick={this.downloadTables}>\n                <VerticalAlignBottom />\n              </IconButton>\n            </Toolbar>\n          </Paper>\n          {content}\n        </EnsureSecureLogin>\n      </Page>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    secureLogin: state.secureLogin\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, null)(DataPage));\n","import React, { Component } from 'react';\nimport Page from './Page';\nimport Progress from '../components/Progress';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SelectField from '../fields/SelectField';\nimport Paper from '@material-ui/core/Paper';\nimport $ from \"jquery\";\nimport queryString from \"query-string\";\n\nclass Taxi extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tschedules: null,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tweek: values.week ? values.week : \"0\",\n\t\t\t}\n\t\t};\n\t}\n\n\thandleFilterChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"week=\" + value,\n\t\t});\n\t\tthis.fetchSchedules(value);\n\t};\n\n\n\tcomponentDidMount() {\n\t\tthis.fetchSchedules(this.state.week);\n\t}\n\n\tfetchSchedules(week) {\n\t\treturn $.ajax({\n\t\t\turl: \"api/function/taxi\",\n\t\t\ttype: \"post\",\n\t\t\tdata: {\n\t\t\t\tweek,\n\t\t\t},\n\t\t\tdataType: \"json\",\n\t\t}).then(schedules => this.setState({\n\t\t\tschedules,\n\t\t}));\n\t}\n\n\trender() {\n\t\tlet content;\n\t\tif (this.state.schedules == null) {\n\t\t\tcontent = <Progress />\n\t\t} else {\n\t\t\tcontent = this.state.schedules.map((s, i) =>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ width: \"80%\", margin: \"auto\" }}\n\t\t\t\t\tclassName=\"taxiScheduleHolder\"\n\t\t\t\t\tkey={i}\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: s }}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper\n\t\t\t\t\televation={2}\n\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\tTaxischema\n          </Typography>\n\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\tlabel=\"week\"\n\t\t\t\t\t\t\tvalue={this.state.week}\n\t\t\t\t\t\t\toptions={[0, 1, 2, 3, 4, 5, 6, 7, 8].map(n => { return { label: n === 0 ? \"Basisrooster\" : \"Week \" + n, value: n + \"\" } })}\n\t\t\t\t\t\t\tonChange={this.handleFilterChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t{content}\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nexport default Taxi;\n\n\n","import React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { connect } from 'react-redux';\nimport { toggleMenu } from '../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport PersonIcon from '@material-ui/icons/Person';\nimport List from '@material-ui/core/List';\n\n\nclass Header extends Component {\n\n\tlogoClick = () => {\n\t\tthis.props.history.push(\"/\");\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<AppBar className=\"Header\">\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<IconButton color=\"inherit\" aria-label=\"Menu\" onClick={this.props.toggleMenu} style={{ position: \"absolute\" }} >\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"/images/logo_qhighschool_white.svg\"\n\t\t\t\t\t\talt=\"QHighschool Logo\"\n\t\t\t\t\t\tstyle={{ height: \"60%\", margin: \"auto\", maxHeight: \"40px\", cursor: \"pointer\" }}\n\t\t\t\t\t\tonClick={this.logoClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<List color=\"inherit\" style={{ right: 20, position: \"absolute\" }} onClick={this.handleClick}>\n\t\t\t\t\t\t<PersonIcon style={{ transform: \"scale(1.5)\", marginRight: \"10px\", float: \"left\" }} />\n\t\t\t\t\t\t<span className=\"HiddenOnMobile\">\n\t\t\t\t\t\t\t{this.props.displayName}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</List>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\tif (state.userId != null) {\n\t\treturn {\n\t\t\tdisplayName: state.users[state.userId].displayName,\n\t\t\tuserId: state.userId,\n\t\t};\n\t}\n\treturn {\n\t\tdisplayName: \"\",\n\t\tuserId: state.userId,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\ttoggleMenu: () => dispatch(toggleMenu()),\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\n\n\n\n","import React, { Component } from 'react';\nimport { IconButton, Snackbar, SnackbarContent } from '@material-ui/core/';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router\";\n\nimport theme from '../lib/MuiTheme'\nimport { removeNotification } from '../store/actions';\n\nclass NotificationBar extends Component {\n\n\n\tremoveNotification = (key) => {\n\t\tthis.props.removeNotification(this.props.notifications[key]);\n\t}\n\n\trender() {\n\t\tlet notifications = this.props.notifications.map((not, key) => {\n\t\t\tlet color;\n\t\t\tswitch (not.priority) {\n\t\t\t\tcase \"high\":\n\t\t\t\t\tcolor = theme.palette.error.main;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"medium\":\n\t\t\t\t\tcolor = \"#ff8c00\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"low\":\n\t\t\t\tdefault:\n\t\t\t\t\tcolor = theme.palette.primary.main;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<Snackbar\n\t\t\t\t\tkey={key}\n\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\thorizontal: \"right\"\n\t\t\t\t\t}}\n\t\t\t\t\topen={true}\n\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t\tTransitionProps={{ direction: \"left\" }}\n\t\t\t\t>\n\t\t\t\t\t<SnackbarContent\n\t\t\t\t\t\tstyle={{ background: color, marginBottom: \"4px\" }}\n\t\t\t\t\t\tmessage={<span id=\"message-id\">{not.message}</span>}\n\t\t\t\t\t\taction={not.sticky ? []: [\n\t\t\t\t\t\t\t<IconButton key=\"close\"\n\t\t\t\t\t\t\t\tonClick={() => { this.removeNotification(key) }} >\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t]} />\n\t\t\t\t</Snackbar>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div style={{ position: \"fixed\", bottom: 0, right: 0, width: \"auto\", zIndex: 10 }}>\n\t\t\t\t{notifications}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tlet notifications = state.notifications.filter((not) => {\n\t\ttry {\n\t\t\treturn not.type === \"bar\" && new RegExp(not.scope).test(ownProps.location.pathname);\n\t\t} catch (err) {\n\t\t\treturn true;\n\t\t}\n\t});\n\treturn {\n\t\tnotifications: notifications,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tremoveNotification: (notification) => dispatch(removeNotification(notification)),\n\t};\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NotificationBar));","import React, { Component } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport ExitIcon from \"@material-ui/icons/ExitToApp\";\nimport LocalTaxiIcon from \"@material-ui/icons/LocalTaxi\";\nimport BuildIcon from \"@material-ui/icons/Build\";\nimport TableChartIcon from \"@material-ui/icons/TableChart\";\nimport ContactsIcon from '@material-ui/icons/Contacts';\nimport NotificationBadge from \"./NotificationBadge\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Typography from \"@material-ui/core/Typography\";\nimport theme from \"../lib/MuiTheme\";\nimport $ from \"jquery\";\n\nclass Menu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n    switch (this.props.role) {\n      case \"student\":\n        this.state.pages = [\"aanbod\", \"portfolio\", \"profiel\", \"loguit\"];\n        break;\n      case \"teacher\":\n        this.state.pages = [\"aanbod\", \"groepen\", \"profiel\", \"loguit\"];\n        break;\n      case \"admin\":\n        this.state.pages = [\n          \"groepen\",\n          \"aanbod\",\n          \"profiel\",\n          \"gegevens\",\n          \"gebruikers\",\n          \"beheer\",\n          \"loguit\"\n        ];\n        break;\n      case \"grade_admin\":\n        this.state.pages = [\n          \"aanbod\",\n          \"groepen\",\n          \"gegevens\",\n          \"gebruikers\",\n          \"profiel\",\n          \"loguit\"\n        ];\n        break;\n      default:\n        this.state.pages = [\"aanbod\", \"profiel\", \"loguit\"];\n        break;\n    }\n  }\n\n  logout() {\n    return $.ajax({\n      url: \"/auth/logout\",\n      type: \"get\",\n      dataType: \"json\"\n    }).then(() => {\n      document.location.reload();\n    });\n  }\n\n  onClick(page) {\n    if (page === \"loguit\") {\n      this.logout();\n    } else {\n      this.props.history.push(\"/\" + page);\n    }\n  }\n\n  getIcon(iconName, color) {\n    let c = \"black\";\n    if (theme.palette[color]) {\n      c = theme.palette[color].main;\n    }\n    switch (iconName) {\n      case \"Assignment\":\n        return <AssignmentIcon style={{ color: c }} />;\n      case \"Group\":\n        return <GroupIcon style={{ color: c }} />;\n      case \"Assessment\":\n        return <AssessmentIcon style={{ color: c }} />;\n      case \"Person\":\n        return <PersonIcon style={{ color: c }} />;\n      case \"TableChart\":\n        return <TableChartIcon style={{ color: c }} />;\n      case \"Contacts\":\n        return <ContactsIcon style={{ color: c }} />;\n      case \"Exit\":\n        return <ExitIcon color=\"secondary\" />;\n      case \"Taxi\":\n        return <LocalTaxiIcon style={{ color: c }} />;\n      case \"Beheer\":\n        return <BuildIcon style={{ color: c }} />;\n      default:\n        return null;\n    }\n  }\n\n  getItem(page, index) {\n    const isCurrentPage = \"/\" + page.id === this.props.location.pathname;\n    let style = {};\n    if (page.bottom) {\n      style.position = \"absolute\";\n      style.bottom = \"0px\";\n    }\n\n    const color = isCurrentPage ? \"primary\" : \"inherit\";\n    const icon = (\n      <ListItemIcon>\n        <NotificationBadge scope={page.id}>\n          {this.getIcon(page.icon, color)}\n        </NotificationBadge>\n      </ListItemIcon>\n    );\n    return (\n      <ListItem\n        key={index}\n        button\n        onClick={() => this.onClick(page.id)}\n        style={style}\n      >\n        {icon}\n        <Typography variant=\"button\" color={color} className=\"HiddenOnMobile\">\n          {page.title}\n        </Typography>\n      </ListItem>\n    );\n  }\n\n  render() {\n    const pages = [\n      {\n        id: \"aanbod\",\n        title: \"Aanbod\",\n        icon: \"Assignment\"\n      },\n      {\n        id: \"groepen\",\n        title: \"Mijn groepen\",\n        icon: \"Group\"\n      },\n      {\n        id: \"portfolio\",\n        title: \"Portfolio\",\n        icon: \"Assessment\"\n      },\n      {\n        id: \"gegevens\",\n        title: \"Gegevens\",\n        icon: \"TableChart\",\n      },\n      {\n        id: \"taxi\",\n        title: \"Taxi\",\n        icon: \"Taxi\"\n      },\n      {\n        id: \"beheer\",\n        title: \"Beheer\",\n        icon: \"Beheer\"\n      },\n      {\n        id: \"gebruikers\",\n        title: \"Gebruikers\",\n        icon: \"Contacts\",\n      },\n    ];\n\n    const profile = [\n      {\n        id: \"profiel\",\n        title: \"Profiel\",\n        icon: \"Person\"\n      },\n      {\n        id: \"loguit\",\n        title: \"Log uit\",\n        icon: \"Exit\"\n      }\n    ];\n\n    const visiblePages = pages\n      .filter(page => this.state.pages.indexOf(page.id) !== -1)\n      .map(this.getItem.bind(this));\n\n    const visibleProfile = profile\n      .filter(page => this.state.pages.indexOf(page.id) !== -1)\n      .map(this.getItem.bind(this));\n\n    return (\n      <Paper elevation={8} className=\"Menu\">\n        <List component=\"nav\" style={{ height: \"100%\" }}>\n          {visiblePages}\n          <div style={{ position: \"absolute\", bottom: \"20px\", width: \"100%\" }}>\n            {visibleProfile}\n          </div>\n        </List>\n      </Paper>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  if (state.userId != null) {\n    return {\n      displayName: state.users[state.userId].displayName,\n      userId: state.userId,\n      role: state.role\n    };\n  }\n  return {\n    displayName: \"\",\n    userId: state.userId,\n    role: state.role\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, null)(Menu));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport map from \"lodash/map\";\nimport forEach from \"lodash/forEach\";\n\nimport Page from \"./Page\";\nimport Progress from \"../components/Progress\";\nimport Group from \"./group/Group\";\nimport { getEnrolLments, getGroups, getParticipatingGroups, getSubjects } from \"../store/actions\";\n\nimport { Divider, Paper, Toolbar, Typography } from \"@material-ui/core\";\nimport queryString from \"query-string\";\nimport SelectField from \"../fields/SelectField\";\n\nclass Portfolio extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tperiod: props.currentPeriod + \"\",\n\t\t\tleerjaar: props.role === \"student\" ? \"all\" : props.schoolYear\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet { blok, leerjaar } = queryString.parse(nextProps.location.search);\n\t\tif (!blok) {\n\t\t\tblok =\n\t\t\t\tnextProps.role === \"student\" ? \"all\" : nextProps.currentPeriod + \"\";\n\t\t}\n\t\tif (!leerjaar) {\n\t\t\tleerjaar = nextProps.role === \"student\" ? \"all\" : nextProps.schoolYear;\n\t\t}\n\t\treturn {\n\t\t\t...prevState,\n\t\t\tperiod: blok,\n\t\t\tschoolYear: leerjaar\n\t\t};\n\t}\n\n\thandlePeriodChange = period => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `blok=${period}&leerjaar=${this.state.leerjaar}`\n\t\t});\n\t};\n\n\thandleYearChange = schoolYear => {\n\t\tthis.props.history.push({\n\t\t\tsearch: `blok=${this.state.period}&leerjaar=${schoolYear}`\n\t\t});\n\t};\n\n\torderGroups(groups, compareFunction) {\n\t\tlet orders = {};\n\t\tforEach(groups, group => {\n\t\t\tif (!orders[compareFunction(group)]) {\n\t\t\t\torders[compareFunction(group)] = [];\n\t\t\t}\n\t\t\torders[compareFunction(group)].push(group);\n\t\t});\n\t\treturn map(orders, this.getOrder);\n\t}\n\n\tgetOrder(groups, name) {\n\t\tgroups = map(groups, group => (\n\t\t\t<Group key={group.id} groupId={group.id} display=\"card\" />\n\t\t));\n\n\t\treturn (\n\t\t\t<div key={name} style={{ padding: \"10px\" }}>\n\t\t\t\t<Typography\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t>\n\t\t\t\t\t{name}\n\t\t\t\t</Typography>\n\t\t\t\t{groups}\n\t\t\t\t<Divider style={{ marginTop: \"20px\" }} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\topenCertificate = () => {\n\t\twindow.open(\"/certificaat/gebruiker/\" + this.props.userId.toString(), \"_blank\");\n\t};\n\n\trender() {\n\t\tlet options = [\n\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t{ label: \"Blok 1\", value: \"period1\" },\n\t\t\t{ label: \"Blok 2\", value: \"period2\" },\n\t\t\t{ label: \"Blok 3\", value: \"period3\" },\n\t\t\t{ label: \"Blok 4\", value: \"period4\" }\n\t\t];\n\t\tif (this.props.role === \"student\") {\n\t\t\toptions.splice(1, 0, { label: \"Ingeschreven\", value: \"enrolled\" });\n\t\t}\n\n\t\tif (!this.props.groups) {\n\t\t\tthis.props.getParticipatingGroups();\n\t\t}\n\t\tif (!this.props.enrollmentIds) {\n\t\t\tthis.props.getEnrolLments();\n\t\t}\n\n\t\tlet groupIds = this.props.enrollmentIds || [];\n\t\tif (this.state.filter !== \"enrolled\") {\n\t\t\t/* If filter is not equal to enrolled, participating ids need to be added.\n\t\t\tFrom participating ids we first remove the ones that are already in enrolled ids.\n\t\t\tFinally, after adding participating ids, we filter on period */\n\t\t\tgroupIds = this.props.participatingGroupIds\n\t\t\t\t.filter(id => {\n\t\t\t\t\treturn groupIds.indexOf(id) === -1;\n\t\t\t\t})\n\t\t\t\t.concat(groupIds);\n\t\t}\n\n\t\tlet content;\n\t\tif (\n\t\t\tthis.props.groups == null ||\n\t\t\tObject.keys(this.props.groups).length === 0\n\t\t) {\n\t\t\tcontent = <Progress />;\n\t\t} else {\n\t\t\tconst groups = groupIds\n\t\t\t\t.map(id => this.props.groups[id])\n\t\t\t\t.filter(group => group != null)\n\t\t\t\t.filter(group => {\n\t\t\t\t\tif (this.state.period !== \"all\") {\n\t\t\t\t\t\treturn group.period + \"\" === this.state.period;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.filter(group => {\n\t\t\t\t\tif (this.state.schoolYear !== \"all\") {\n\t\t\t\t\t\treturn group.schoolYear + \"\" === this.state.schoolYear;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tcontent = this.orderGroups(groups, group => {\n\t\t\t\treturn group.subjectName;\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Paper elevation={2} style={{ position: \"relative\" }}>\n\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\tstyle={{ flex: \"4 1 auto\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.props.role === \"student\" ? \"Portfolio\" : \"Mijn groepen\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{/* {this.props.role === \"student\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{margin: \"20px\"}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.openCertificate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCertificaat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t)} */}\n\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\tlabel=\"blok\"\n\t\t\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t\t\t\tvalue={this.state.period}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 1\", value: \"1\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 2\", value: \"2\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 3\", value: \"3\" },\n\t\t\t\t\t\t\t\t{ label: \"Blok 4\", value: \"4\" }\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonChange={this.handlePeriodChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\tlabel=\"schooljaar\"\n\t\t\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t\t\t\tvalue={this.state.schoolYear}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ label: \"Alle\", value: \"all\" },\n\t\t\t\t\t\t\t\t...this.props.possibleYears.map((year) => { return { label: year, value: year } })\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonChange={this.handleYearChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</Paper>\n\t\t\t\t{content}\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tgroups: state.groups,\n\t\tparticipatingGroupIds: state.users[state.userId].participatingGroupIds,\n\t\tenrollmentIds: state.users[state.userId].enrollmentIds,\n\t\trole: state.role,\n\t\tschoolYear: state.schoolYear,\n\t\tcurrentPeriod: state.currentPeriod,\n\t\tuserId: state.userId,\n\t\tpossibleYears: state.possibleYears,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetGroups: () => dispatch(getGroups()),\n\t\tgetEnrolLments: () => dispatch(getEnrolLments()),\n\t\tgetParticipatingGroups: () => dispatch(getParticipatingGroups())\n\t};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Portfolio);\n","import React, { Component } from 'react';\nimport EnsureSecureLogin from '../components/EnsureSecureLogin';\nimport Page from './Page';\nimport $ from \"jquery\";\nimport map from 'lodash/map';\n\nimport { connect } from 'react-redux';\nimport queryString from \"query-string\";\nimport UserField from '../fields/UserField';\nimport { Toolbar, Button, Paper, Typography, List, ListItem, ListItemText } from '@material-ui/core';\nimport { getSubjects, setAlias, addNotification, addSubject, addCourse, addGroup, relogSecure } from '../store/actions';\nimport InputField from '../fields/InputField';\nimport SelectField from '../fields/SelectField';\n\nconst pages = [\"alias\", \"vak\", \"module\", \"groep\"];\n\nclass ControlPanel extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcourses: [],\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet values = queryString.parse(nextProps.location.search);\n\t\treturn {\n\t\t\t...prevState,\n\t\t\t...{\n\t\t\t\tpage: values.page ? values.page : pages[0],\n\t\t\t}\n\t\t}\n\t}\n\n\tmapPageToListItem = (pageName) => {\n\t\treturn <ListItem button onClick={() => this.handlePageChange(pageName)} key={pageName}>\n\t\t\t<ListItemText>\n\t\t\t\t<Typography variant=\"button\" color={pageName === this.state.page ? \"primary\" : \"initial\"} style={{ minWidth: \"150px\" }}>\n\t\t\t\t\t{pageName.charAt(0).toUpperCase() + pageName.slice(1)}\n\t\t\t\t</Typography>\n\t\t\t</ListItemText>\n\t\t</ListItem >\n\t}\n\n\tcomponentDidMount() {\n\t\t$.ajax({\n\t\t\turl: \"api/course/list\",\n\t\t\ttype: \"get\",\n\t\t\tdata: {},\n\t\t\tdataType: \"json\",\n\t\t}).then((courses) => {\n\t\t\tthis.setState({\n\t\t\t\tcourses\n\t\t\t});\n\t\t});\n\t\tthis.props.getSubjects();\n\t}\n\n\n\thandlePageChange = value => {\n\t\tthis.props.history.push({\n\t\t\tsearch: \"page=\" + value,\n\t\t});\n\t}\n\n\tgetContent = () => {\n\t\tswitch (this.state.page) {\n\t\t\tcase \"alias\":\n\t\t\t\treturn <Alias dispatch={this.props.dispatch} />\n\t\t\tcase \"vak\":\n\t\t\t\treturn <Subject addSubject={this.props.addSubject} />\n\t\t\tcase \"module\":\n\t\t\t\treturn <Course addCourse={this.props.addCourse} subjects={this.props.subjects} />\n\t\t\tcase \"groep\":\n\t\t\t\treturn <Group addGroup={this.props.addGroup} courses={this.state.courses} />\n\t\t\tdefault:\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<EnsureSecureLogin>\n\t\t\t\t\t<Paper\n\t\t\t\t\t\televation={2}\n\t\t\t\t\t\tstyle={{ position: \"relative\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Toolbar style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\t\t\tBeheer\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<div style={{ display: \"flex\" }} className=\"ColumnFlexDirectionOnMobile\">\n\t\t\t\t\t\t<Paper elevation={2}>\n\t\t\t\t\t\t\t<List component=\"nav\" style={{ flex: 1 }}>\n\t\t\t\t\t\t\t\t{pages.map(this.mapPageToListItem)}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<div style={{ padding: \"12px\", width: \"50%\" }}>\n\t\t\t\t\t\t\t{this.getContent()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</EnsureSecureLogin>\n\t\t\t</Page>\n\t\t);\n\t}\n}\n\nclass Alias extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\taliasId: null,\n\t\t}\n\t}\n\n\trender() {\n\t\treturn <div style={{ margin: \"10px 0\" }}>\n\t\t\t<UserField value={this.state.aliasId} onChange={(aliasId) => this.setState({ aliasId })} />\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tdisabled={this.state.aliasId == null}\n\t\t\t\tonClick={() => this.props.dispatch(setAlias(this.state.aliasId))}>\n\t\t\t\tLogin in met alias\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nclass Subject extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tdescription: \"\",\n\t\t}\n\t}\n\trender() {\n\t\tconst subject = this.state;\n\t\treturn <div>\n\t\t\t<InputField\n\t\t\t\tlabel=\"Naam\"\n\t\t\t\tvalue={subject.name}\n\t\t\t\tonChange={(name) => this.setState({ name })}\n\t\t\t\teditable\n\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<InputField\n\t\t\t\tlabel=\"Omschrijving\"\n\t\t\t\tvalue={subject.description}\n\t\t\t\tonChange={(description) => this.setState({ description })}\n\t\t\t\teditable\n\t\t\t\tvalidate={{ maxLength: 440 }}\n\t\t\t\tmultiline\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addSubject(subject.name, subject.description).then(relogSecure) }}\n\t\t\t>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nclass Course extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tsubjectId: \"\",\n\t\t}\n\t}\n\trender() {\n\t\tconst course = this.state;\n\t\treturn <div>\n\t\t\t<InputField\n\t\t\t\tlabel=\"Naam\"\n\t\t\t\tvalue={course.name}\n\t\t\t\tonChange={(name) => this.setState({ name })}\n\t\t\t\teditable\n\t\t\t\tvalidate={{ maxLength: 50 }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<SelectField\n\t\t\t\tvalue={course.subjectId}\n\t\t\t\tlabel=\"Vak\"\n\t\t\t\tonChange={(subjectId) => this.setState({ subjectId })}\n\t\t\t\teditable\n\t\t\t\toptions={\n\t\t\t\t\tmap(this.props.subjects, (subject) => { return { value: subject.id, label: subject.name } })\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addCourse(course.name, course.subjectId).then(relogSecure) }}>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\n\nclass Group extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcourseId: null,\n\t\t\tteacherId: null,\n\t\t}\n\t}\n\trender() {\n\t\tconst group = this.state;\n\t\treturn <div>\n\t\t\t<SelectField\n\t\t\t\tvalue={group.courseId}\n\t\t\t\tlabel=\"Module\"\n\t\t\t\tonChange={(courseId) => this.setState({ courseId })}\n\t\t\t\teditable\n\t\t\t\tsearch\n\t\t\t\toptions={this.props.courses.map((course) => { return { label: course.name, value: course.id } })}\n\t\t\t\tstyle={{ minWidth: \"200px\" }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<UserField\n\t\t\t\tvalue={group.teacherId}\n\t\t\t\tonChange={(teacherId) => this.setState({ teacherId })}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstyle={{ height: \"37px\", margin: \"12px\" }}\n\t\t\t\tonClick={() => { this.props.addGroup(group.courseId, group.teacherId).then(relogSecure) }}>\n\t\t\t\tVoeg toe\n\t\t\t</Button>\n\t\t</div>\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsubjects: state.subjects,\n\t\tgroups: state.groups,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\taddSubject: async (name, description) => dispatch(addSubject(name, description)),\n\t\taddCourse: async (name, subjectId) => dispatch(addCourse(name, subjectId)),\n\t\taddGroup: async (courseId, userId) => dispatch(addGroup(courseId, userId)),\n\t\taddNotification: (notification) => dispatch(addNotification(notification)),\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tdispatch: dispatch,\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlPanel);","import React, { Component } from \"react\";\nimport { Typography } from \"@material-ui/core/\";\nimport { Alert } from \"@material-ui/lab\";\nimport { validate } from \"../../fields/FieldContainer\"\nimport InputField from \"../../fields/InputField\";\n\nclass PersonalData extends Component {\n\n\trender() {\n\t\tconst p = this.props;\n\t\tconst u = p.user;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Typography variant=\"h6\" color=\"secondary\">\n\t\t\t\t\tPersoonlijke gegevens\n\t\t\t\t</Typography>\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tNaam\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\tvalue={u.displayName}\n\t\t\t\t\t\t\t\teditable={p.editableAdmin}\n\t\t\t\t\t\t\t\tonChange={(value) => p.onChange(\"displayName\", value)}\n\t\t\t\t\t\t\t\ttd\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{p.isAdmin && <tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tAuthenticatie email\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\tvalue={u.email}\n\t\t\t\t\t\t\t\teditable={p.editableAdmin}\n\t\t\t\t\t\t\t\tonChange={(value) => p.onChange(\"email\", value)}\n\t\t\t\t\t\t\t\ttd\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</tr>}\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tVoorkeursemail\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\tvalidate={{ type: \"email\" }}\n\t\t\t\t\t\t\t\tvalue={u.preferedEmail}\n\t\t\t\t\t\t\t\teditable={p.editableUser}\n\t\t\t\t\t\t\t\tonChange={(value) => p.onChange(\"preferedEmail\", value)}\n\t\t\t\t\t\t\t\ttd\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{!validate(u.preferedEmail, { type: \"email\" }) &&\n\t\t\t\t\t\t\t\t\t<Alert severity=\"warning\">\n\t\t\t\t\t\t\t\t\t\tAls je geen ander email invult, gaan onze berichten naar je school e-mailadres!\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tMobiel nummer\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<InputField\n\t\t\t\t\t\t\t\tvalidate={{ type: \"phoneNumber\" }}\n\t\t\t\t\t\t\t\tvalue={\"06 \" + (u.phoneNumber ? u.phoneNumber.replace(/^06[ ]*/, \"\") : \"\")}\n\t\t\t\t\t\t\t\ttd\n\t\t\t\t\t\t\t\teditable={p.editableUser}\n\t\t\t\t\t\t\t\tonChange={(value) => p.onChange(\"phoneNumber\", value.slice(0, 11))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{!validate(u.phoneNumber, { type: \"phoneNumber\" }) &&\n\t\t\t\t\t\t\t\t\t<Alert severity=\"warning\">\n\t\t\t\t\t\t\t\t\t\tZonder mobiele nummer kunnen we je niet snel bereiken!\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default PersonalData;","import React, { Component } from 'react';\nimport { Typography, Divider } from '@material-ui/core/';\nimport { cloneDeep } from \"lodash\";\nimport possibleValues from \"./educationConstraints\"\nimport SelectField from '../../fields/SelectField';\n\nclass EducationData extends Component {\n\n\treducedChoices = null;\n\treduceChoices = () => {\n\t\tlet autoFilledUser = { ...this.props.user };\n\t\tlet CONS = cloneDeep(possibleValues);\n\t\tfor (let i = 0; i < 5; i++) {\n\t\t\tfor (let field in possibleValues) {\n\t\t\t\tlet userValue = CONS[field][autoFilledUser[field]];\n\t\t\t\tif (userValue != null) {\n\t\t\t\t\tfor (let constraint in userValue) {\n\t\t\t\t\t\tCONS[constraint] = this.intersection(CONS[constraint], userValue[constraint]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let field in possibleValues) {\n\t\t\t\tif (Object.keys(CONS[field]).length === 1) {\n\t\t\t\t\tautoFilledUser[field] = Object.keys(CONS[field])[0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.reducedChoices = CONS;\n\t}\n\n\tintersection = (o1, o2) => {\n\t\treturn Object.keys(o1)\n\t\t\t.concat(Object.keys(o2))\n\t\t\t.sort()\n\t\t\t.reduce(function (r, a, i, aa) {\n\t\t\t\tif (i && aa[i - 1] === a) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...r,\n\t\t\t\t\t\t[a]: o1[a]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn r;\n\t\t\t}, {});\n\t}\n\n\tgetField = (field) => {\n\t\tlet value = this.props.user[field];\n\t\tlet options = Object.keys(this.reducedChoices[field]);\n\t\tlet editable = this.props.editableUser;\n\t\tif (options == null || options.length === 0) {\n\t\t\tconsole.error(this.props.user);\n\t\t\tconsole.error(\"INVALID EDUCATION DATA STATE ON FIELD \" + field);\n\t\t\toptions = Object.keys(possibleValues[field]);\n\t\t}\n\t\tif (options.length === 1) {\n\t\t\tvalue = options[0];\n\t\t\teditable = false;\n\t\t}\n\t\tif (options.indexOf(value) === -1) {\n\t\t\tvalue = \"\";\n\t\t}\n\t\tif (field === \"school\") {\n\t\t\teditable = this.props.editableAdmin;\n\t\t}\n\t\treturn <SelectField\n\t\t\tvalue={value}\n\t\t\teditable={editable}\n\t\t\tonChange={(v) => this.props.onChange(field, v)}\n\t\t\ttd\n\t\t\tvalidate={{\n\t\t\t\tnotEmpty: true,\n\t\t\t}}\n\t\t\toptions={options}\n\t\t/>\n\t}\n\n\trender() {\n\t\tconst p = this.props;\n\t\tthis.reduceChoices();\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Typography variant=\"h6\" color=\"secondary\">\n\t\t\t\t\tSchoolgegevens\n\t\t\t\t</Typography>\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tSchool\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{this.getField(\"school\")}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tRollen\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\t\tvalue={(p.user.availableRoles || \"\").split(\",\")}\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\teditable={p.editableAdmin}\n\t\t\t\t\t\t\t\ttd\n\t\t\t\t\t\t\t\toptions={[\"admin\", \"student\", \"teacher\", \"grade_admin\"]}\n\t\t\t\t\t\t\t\tonChange={(v) => p.onChange(\"availableRoles\", v.join(\",\"))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<Divider />\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tOpleidingsniveau\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{this.getField(\"level\")}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tSchoollocatie\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{this.getField(\"schoolLocation\")}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tLeerjaar\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{this.getField(\"year\")}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tProfiel\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{this.getField(\"profile\")}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tExtra toetsrechten\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\t\tvalue={this.props.user[\"examRights\"] ? this.props.user[\"examRights\"].split(\",\") : []}\n\t\t\t\t\t\t\t\ttd\n\t\t\t\t\t\t\t\teditable={this.props.editableUser}\n\t\t\t\t\t\t\t\tonChange={(v) => this.props.onChange(\"examRights\", v.join(\",\"))}\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\"Toetstijdverlenging\",\n\t\t\t\t\t\t\t\t\t\"Gesproken toetsen\",\n\t\t\t\t\t\t\t\t\t\"Gebruik van laptop\",\n\t\t\t\t\t\t\t\t\t\"Gebruik van woordenboek\",\n\t\t\t\t\t\t\t\t\t\"Geen extra rechten\",\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default EducationData;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { Typography, Button, Dialog, DialogTitle, DialogContent, DialogActions, IconButton } from \"@material-ui/core/\";\nimport { Add, Delete, Edit } from \"@material-ui/icons\";\nimport {\n\tgetSubjects,\n} from \"../../store/actions\";\nimport SelectField from \"../../fields/SelectField\";\nimport { map } from \"lodash\";\n\nclass ExamSubjects extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisDialogOpen: false,\n\t\t\tisEditDialog: false,\n\t\t\tnewSubjectId: \"\",\n\t\t\tnewSubjectProfile: \"\",\n\t\t\tnewSubjectStartYear: this.props.schoolYear,\n\t\t\tisValid: false,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getSubjects();\n\t}\n\n\ttoggleDialog = () => {\n\t\tthis.setState({\n\t\t\tisDialogOpen: !this.state.isDialogOpen,\n\t\t\tnewSubjectId: \"\",\n\t\t\tnewSubjectProfile: \"\",\n\t\t\tnewSubjectStartYear: this.props.schoolYear,\n\t\t\tisEditDialog: false,\n\t\t});\n\t}\n\n\tonChange = (field, value) => {\n\t\tlet newState = {\n\t\t\t...this.state,\n\t\t\t[field]: value,\n\t\t}\n\t\tif (newState.newSubjectId && newState.newSubjectProfile) {\n\t\t\tnewState.isValid = true;\n\t\t}\n\t\tthis.setState(newState);\n\t}\n\n\tupdateExamSubjects = () => {\n\t\tconst examSubjects = this.props.examSubjects.filter(({ id }) => id !== this.state.newSubjectId);\n\t\tthis.props.onChange(\"examSubjects\", JSON.stringify([\n\t\t\t...examSubjects,\n\t\t\t{\n\t\t\t\tid: this.state.newSubjectId,\n\t\t\t\tinProfile: this.state.newSubjectProfile === \"T\",\n\t\t\t\tstartSchoolYear: this.state.newSubjectStartYear,\n\t\t\t}\n\t\t]));\n\n\t\tthis.setState({\n\t\t\tisDialogOpen: false,\n\t\t});\n\t}\n\n\tremoveExamSubject = (subjectId) => {\n\t\tconst examSubjects = this.props.examSubjects.filter(({ id }) => id !== subjectId);\n\t\tthis.props.onChange(\"examSubjects\", JSON.stringify(examSubjects));\n\t}\n\n\teditExamSubject = (subjectId) => {\n\t\tconst examSubject = this.props.examSubjects.filter(({ id }) => id === subjectId)[0];\n\t\tthis.setState({\n\t\t\tisDialogOpen: true,\n\t\t\tnewSubjectId: subjectId,\n\t\t\tnewSubjectProfile: examSubject.inProfile ? \"T\" : \"F\",\n\t\t\tnewSubjectStartYear: examSubject.startSchoolYear,\n\t\t\tisValid: true,\n\t\t\tisEditDialog: true,\n\t\t});\n\t}\n\n\tgetExamSubjectListItem = ({ id, name, inProfile, startSchoolYear = \"onbekend\" }) => {\n\t\treturn <tr key={id} className=\"examSubjectListItem\">\n\t\t\t<td>\n\t\t\t\t{name}\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t{inProfile ? \"(in profieldeel)\" : \"(in vrije deel)\"}\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t{startSchoolYear}\n\t\t\t</td>\n\t\t\t{this.props.editableAdmin &&\n\t\t\t\t<td style={{ textAlign: \"right\" }}>\n\t\t\t\t\t<IconButton onClick={() => this.editExamSubject(id)}>\n\t\t\t\t\t\t<Edit />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<IconButton onClick={() => this.removeExamSubject(id)}>\n\t\t\t\t\t\t<Delete />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</td>\n\n\t\t\t}\n\t\t</tr>\n\t}\n\n\tgetDialog = () => {\n\t\tconst p = this.props;\n\t\tlet availableSubjects = map(p.subjects, (x) => x).filter(({ canDoExam }) => canDoExam);\n\t\tif (!this.state.isEditDialog) {\n\t\t\tavailableSubjects = availableSubjects.filter(({ id }) => { return p.examSubjects.filter((x) => x.id + \"\" === id + \"\").length === 0 })\n\t\t}\n\t\treturn <Dialog onClose={this.toggleDialog} open={this.state.isDialogOpen}>\n\t\t\t<DialogTitle onClose={this.toggleDialog}>\n\t\t\t\tExamenvak toevoegen\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\tIn welk vak wil je examen doen?\n\t\t\t\t</Typography>\n\t\t\t\t<SelectField\n\t\t\t\t\tvalue={this.state.newSubjectId}\n\t\t\t\t\toptions={availableSubjects.map(({ id, name }) => { return { label: name, value: id } })}\n\t\t\t\t\tonChange={(value) => this.onChange(\"newSubjectId\", value)}\n\t\t\t\t/>\n\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\tVolg je dit vak binnen je profieldeel of in het vrije deel?\n\t\t\t</Typography>\n\t\t\t\t<SelectField\n\t\t\t\t\tvalue={this.state.newSubjectProfile}\n\t\t\t\t\toptions={[{ label: \"In profieldeel\", value: \"T\" }, { label: \"In vrije deel\", value: \"F\" }]}\n\t\t\t\t\tonChange={(value) => this.onChange(\"newSubjectProfile\", value)}\n\t\t\t\t/>\n\t\t\t\t{!this.props.isStudent &&\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t\tWat is je startcohort?\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\tvalue={this.state.newSubjectStartYear}\n\t\t\t\t\t\t\toptions={this.props.possibleYears}\n\t\t\t\t\t\t\tonChange={(value) => this.onChange(\"newSubjectStartYear\", value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={this.toggleDialog}>\n\t\t\t\t\tAnnuleren\n\t\t\t\t</Button>\n\t\t\t\t<Button autoFocus onClick={this.updateExamSubjects} color=\"primary\" disabled={!this.state.isValid}>\n\t\t\t\t\tOpslaan\n\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog >\n\t}\n\n\trender() {\n\t\tconst p = this.props;\n\t\tconst examSubjectComponents =\n\t\t\tp.examSubjects\n\t\t\t\t.filter(({ id }) => p.subjects[id])\n\t\t\t\t.map(({ id, inProfile, startSchoolYear }) => { return { id, inProfile, name: p.subjects[id].name, startSchoolYear } })\n\t\t\t\t.map(this.getExamSubjectListItem);\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Typography variant=\"h6\" color=\"secondary\">\n\t\t\t\t\tExamenvakken\n\t\t\t\t</Typography>\n\t\t\t\t<Typography>\n\t\t\t\t\tIn deze vakken wil ik bij de Q-highschool examen doen:\n\t\t\t\t</Typography>\n\t\t\t\t{p.examSubjects !== [] ?\n\t\t\t\t\t<table style={{ marginTop: \"10px\" }}>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr className=\"examSubjectListItem\">\n\t\t\t\t\t\t\t\t<th>Vak</th>\n\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t<th>Start cohort</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t{examSubjectComponents}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t{this.props.editableUser &&\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" startIcon={<Add />} onClick={this.toggleDialog} >\n\t\t\t\t\t\tExamenvak toevoegen\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\t{this.getDialog()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\treturn {\n\t\tsubjects: state.subjects || [],\n\t\texamSubjects: (ownProps.user.examSubjects || \"\").length > 2 ? JSON.parse(ownProps.user.examSubjects) : [],\n\t\tschoolYear: state.schoolYear,\n\t\tpossibleYears: state.possibleYears,\n\t\t...ownProps,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExamSubjects);","import React, { Component } from \"react\";\nimport { Typography, Button, FormControlLabel, Checkbox } from \"@material-ui/core/\";\nimport { switchRole } from \"../../store/actions\"\nimport { connect } from 'react-redux';\nimport EnsureSecureLogin from \"../../components/EnsureSecureLogin\";\nimport SelectField from \"../../fields/SelectField\";\n\nclass OtherData extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tnewRole: null,\n\t\t}\n\t}\n\n\tgetRoleSwitchComponent = () => {\n\t\tconst u = this.props.user;\n\t\tconst roles = (u.availableRoles || \"\").split(\",\");\n\t\tif (roles.length === 1 || !this.props.isOwn) return null;\n\t\treturn <div>\n\t\t\t<Typography variant=\"h6\" color=\"secondary\">\n\t\t\t\tRolwissel\n\t\t\t</Typography>\n\t\t\t<EnsureSecureLogin>\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<Typography component=\"td\">\n\t\t\t\t\t\t\t\tHuidige rol\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<SelectField\n\t\t\t\t\t\t\t\tvalue={this.state.newRole || u.role}\n\t\t\t\t\t\t\t\teditable={this.props.editableUser}\n\t\t\t\t\t\t\t\toptions={roles}\n\t\t\t\t\t\t\t\tonChange={newRole => this.setState({ newRole })}\n\t\t\t\t\t\t\t\ttd\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tdisabled={this.state.newRole == null}\n\t\t\t\t\t\t\t\tcomponent=\"td\"\n\t\t\t\t\t\t\t\tonClick={() => this.props.dispatch(switchRole(this.state.newRole))}>\n\t\t\t\t\t\t\t\tVerander rol\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</EnsureSecureLogin>\n\t\t</div>\n\t}\n\n\tgetRequestProfileUpdateComponent = () => {\n\t\tconst p = this.props;\n\t\tif (!p.isAdmin) return null;\n\t\treturn <div>\n\t\t\t<Typography variant=\"h6\" color=\"secondary\">\n\t\t\t\tVerzoek profiel update\n\t\t\t</Typography>\n\t\t\t<FormControlLabel\n\t\t\t\tcontrol={\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tchecked={p.user.needsProfileUpdate}\n\t\t\t\t\t\tdisabled={!p.editableUser}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonChange={({ target: { checked } }) => p.onChange(\"needsProfileUpdate\", checked)}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tlabel=\"Deze gebruiker moet zijn gegevens bijwerken\"\n\t\t\t/>\n\t\t</div>\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.getRoleSwitchComponent()}\n\t\t\t\t{this.getRequestProfileUpdateComponent()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default connect()(OtherData);","import { Component } from \"react\";\nimport queryString from \"query-string\";\nimport { withRouter } from 'react-router-dom';\nimport { setSecureLogin, getCookie } from \"../store/actions\"\nimport { connect } from \"react-redux\";\n\nclass LoginProvider extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {}\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet s = queryString.parse(nextProps.location.search);\n\t\tif (s.secureLogin != null) {\n\t\t\tnextProps.setSecureLogin(s.secureLogin);\n\t\t}\n\t\tif (s.from === \"login\" && nextProps.user != null && nextProps.role !== \"student\") {\n\t\t\tconst beforeLoginPath = getCookie(\"beforeLoginPath\");\n\t\t\tnextProps.history.push(beforeLoginPath);\n\t\t}\n\t\treturn prevState;\n\t}\n\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tsetSecureLogin: (secureLogin) => dispatch(setSecureLogin(secureLogin)),\n\t};\n}\n\n\nexport default withRouter(connect(null, mapDispatchToProps)(LoginProvider));","import React, { Component } from \"react\";\nimport { Button, Paper } from \"@material-ui/core/\";\nimport EnsureSecureLogin from \"../components/EnsureSecureLogin\";\nimport PageLeaveWarning from \"../components/PageLeaveWarning\";\nimport \"./Saveable.css\"\n\nclass Saveable extends Component {\n\n\trender() {\n\t\tconst onSave = this.props.onSave;\n\t\tconst hasChanged = this.props.hasChanged;\n\t\tconst editIfSecure = this.props.editIfSecure;\n\t\tconst isSecure = this.props.isSecure;\n\t\tconst showBanner = hasChanged || (editIfSecure && !isSecure);\n\t\treturn <div>\n\t\t\t{this.props.children}\n\t\t\t{showBanner &&\n\t\t\t\t<Paper className=\"SaveBanner\">\n\t\t\t\t\t{(editIfSecure && !isSecure) &&\n\t\t\t\t\t\t<EnsureSecureLogin dense>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</EnsureSecureLogin>\n\t\t\t\t\t}\n\t\t\t\t\t{hasChanged &&\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"outlined\" onClick={onSave}>\n\t\t\t\t\t\t\t\tOpslaan\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button color=\"default\" onClick={() => window.location.reload(false)}>\n\t\t\t\t\t\t\t\tAnnuleren\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t<PageLeaveWarning giveWarning={hasChanged} />\n\t\t\t\t</Paper>\n\t\t\t}\n\t\t</div>\n\t}\n}\n\n\nexport default Saveable;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Page from '../Page';\nimport { Typography, Divider } from '@material-ui/core/';\nimport { PriorityHigh } from \"@material-ui/icons\";\nimport Progress from \"../../components/Progress\"\n\nimport PersonalData from \"./PersonalData\"\nimport EducationData from \"./EducationData\"\nimport ExamSubjects from \"./ExamSubjects\"\nimport OtherData from \"./OtherData\"\nimport LoginProvider from '../../lib/LoginProvider';\nimport \"./Profile.css\";\nimport Saveable from '../../components/Saveable';\nimport { setSelf, setUser, setSecureLogin, getCookie, getUser } from '../../store/actions';\nimport queryString from \"query-string\";\nimport { withRouter } from 'react-router-dom';\n\nclass Profile extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: {}\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tif (this.state.user == null || !this.props.isOwn) {\n\t\t\tthis.props.getUser(this.props.userId);\n\t\t}\n\t}\n\n\tcomponentDidUpdate = () => {\n\t\tif (this.state.user == null) {\n\t\t\tthis.props.getUser(this.props.userId);\n\t\t}\n\t}\n\n\tonChange = (field, value) => {\n\t\tconsole.log(field, value);\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\t...this.state.user,\n\t\t\t\t[field]: value,\n\t\t\t}\n\t\t})\n\t}\n\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\tlet s = queryString.parse(nextProps.location.search);\n\t\tif (s.secureLogin != null && s.secureLogin !== \"undefined\") {\n\t\t\tnextProps.setSecureLogin(s.secureLogin);\n\t\t}\n\t\tif (s.from === \"login\" && nextProps.user != null && nextProps.role !== \"student\") {\n\t\t\tconst beforeLoginPath = getCookie(\"beforeLoginPath\");\n\t\t\tnextProps.history.push(beforeLoginPath);\n\t\t}\n\t\tif (prevState.userId === nextProps.userId) {\n\t\t\treturn {\n\t\t\t\torgUser: nextProps.user,\n\t\t\t\tuser: {\n\t\t\t\t\t...nextProps.user,\n\t\t\t\t\t...prevState.user,\n\t\t\t\t},\n\t\t\t\tuserId: nextProps.userId,\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\torgUser: nextProps.user,\n\t\t\t\tuser: nextProps.user,\n\t\t\t\tuserId: nextProps.userId,\n\t\t\t}\n\n\t\t}\n\t}\n\n\trender() {\n\t\tconst user = this.state.user;\n\t\tconst hasChanged = JSON.stringify(this.props.user) !== JSON.stringify(user);\n\t\tconst p = { ...this.props, user }\n\n\t\tif (user == null || user.id == null) {\n\t\t\treturn <LoginProvider>\n\t\t\t\t<Page>\n\t\t\t\t\t<Progress />\n\t\t\t\t</Page>\n\t\t\t</LoginProvider>\n\t\t}\n\t\treturn (\n\t\t\t<LoginProvider>\n\t\t\t\t<Page className=\"Profile\">\n\t\t\t\t\t<Saveable\n\t\t\t\t\t\thasChanged={hasChanged || (user.needsProfileUpdate === true && user.role === \"student\")}\n\t\t\t\t\t\tonSave={() => {\n\t\t\t\t\t\t\tif (this.props.editableAdmin) {\n\t\t\t\t\t\t\t\tthis.props.setUser(user)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst U = {\n\t\t\t\t\t\t\t\t\t...user,\n\t\t\t\t\t\t\t\t\tneedsProfileUpdate: false,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.props.setSelf(U)\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tuser: U,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\teditIfSecure={!this.props.isStudent}\n\t\t\t\t\t\tisSecure={this.props.isSecure}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant=\"h4\" color=\"primary\">\n\t\t\t\t\t\t\t{user.displayName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t{user.needsProfileUpdate &&\n\t\t\t\t\t\t\t< div className=\"NeedsProfileUpdate\">\n\t\t\t\t\t\t\t\t<PriorityHigh color=\"secondary\" />\n\t\t\t\t\t\t\t\t<Typography variant=\"button\" color=\"secondary\">\n\t\t\t\t\t\t\t\t\tControleer de onderstaande gegevens\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<PersonalData {...p} onChange={this.onChange} />\n\t\t\t\t\t\t\t<OtherData {...p} onChange={this.onChange} />\n\t\t\t\t\t\t\t<EducationData  {...p} onChange={this.onChange} />\n\t\t\t\t\t\t\t{user.role === \"student\" &&\n\t\t\t\t\t\t\t\t<ExamSubjects {...p} onChange={this.onChange} />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<div style={{ height: \"300px\" }} />\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tIn onze <a href=\"https://www.quadraam.nl/privacy\">privacyverklaring</a> is meer te lezen over het gebruik van deze gegevens.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Saveable>\n\t\t\t\t</Page>\n\t\t\t</LoginProvider >\n\t\t);\n\t}\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tlet isOwn;\n\tconst isStudent = state.role === \"student\";\n\tconst isAdmin = state.role === \"admin\";\n\tconst isGradeAdmin = state.role === \"grade_admin\";\n\tconst isSecure = state.secureLogin != null;\n\tlet userId = ownProps.match.params.userId;\n\tif (userId == null) {\n\t\tisOwn = true;\n\t\tuserId = state.userId;\n\t} else {\n\t\tisOwn = false;\n\t}\n\tconst school = state.users[state.userId].school;\n\tconst user = state.users[userId];\n\tconst editableAdmin = isSecure && (isAdmin || (user && user.school === school && isGradeAdmin))\n\n\t// Basic: \t\tstudent\n\t// Full : \t\tteacher, grade_admin, admin\n\n\treturn {\n\t\tisAdmin,\n\t\tisSecure,\n\t\tisStudent,\n\t\tisFull: isOwn || isAdmin,\n\t\tuser,\n\t\teditableUser: (isOwn && isStudent) || (isOwn && isSecure) || editableAdmin,\n\t\teditableAdmin,\n\t\tuserId,\n\t\tisOwn,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch, ownProps, state) {\n\treturn {\n\t\tsetSecureLogin: (secureLogin) => dispatch(setSecureLogin(secureLogin)),\n\t\tsetSelf: (user) => dispatch(setSelf(user)),\n\t\tsetUser: (user) => dispatch(setUser(user)),\n\t\tgetUser: (userId) => dispatch(getUser(userId)),\n\t};\n}\n\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Profile));","import React, { Component } from \"react\";\nimport { getEnrolLments, getParticipatingGroups, getSubjects } from \"../store/actions\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { translateAssessment } from \"./group/Evaluation\";\nimport jspdf from \"jspdf\"\nimport Page from \"../pages/Page\"\nimport Progress from \"../components/Progress\"\n\nclass Certificate extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Keep track whether we have already generated a pdf.\n\t\tthis.state = {\n\t\t\tgeneratedPdf: false,\n\t\t\timages: {\n\t\t\t\tbackground: \"jpg\",\n\t\t\t\tcourse_header: \"png\",\n\t\t\t\tportfolio_header: \"png\",\n\t\t\t\tsignature: \"png\",\n\t\t\t\tquadraam_logo: \"png\"\n\t\t\t}\n\t\t};\n\n\t\t// Load all the images in the state.\n\t\tObject.keys(this.state.images).forEach(key => {\n\t\t\tlet imageData = new Image();\n\t\t\timageData.src = \"/images/certificate/\" + key + \".\" + this.state.images[key];\n\t\t\timageData.onload = () => {\n\t\t\t\tthis.state.images[key] = imageData;\n\t\t\t}\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getSubjects();\n\t}\n\n\t/**\n\t\t* Adds a page to an existing pdf, or generates a base\n\t\t* pdf to work with. This new page has all the images pre-applied.\n\t\t*\n\t\t* @param pdf A pdf object (optional)\n\t\t* @returns A pdf object.\n\t\t*/\n\tmakeBase(pdf = new jspdf({\n\t\torientation: \"p\",\n\t\tunit: \"mm\",\n\t\tformat: \"a4\",\n\t\tputOnlyUsedFonts: true,\n\t\tfloatPrecision: 16\n\t})) {\n\t\t// Add a page count.\n\t\tif (!pdf.hasOwnProperty(\"page_count\")) {\n\t\t\tpdf.page_count = 1;\n\t\t} else {\n\t\t\tpdf.addPage();\n\t\t\tpdf.page_count++;\n\t\t}\n\n\t\t// Setup some formatting stuff.\n\t\tpdf.setFontSize(12);\n\t\tpdf.setFont(\"helvetica\", \"normal\");\n\n\t\t// Image has a ratio of 0.7:1\n\t\tpdf.addImage(this.state.images.background, \"jpg\", 0, 0, 210, 300);\n\t\t// Image has a ratio of 2.54:1\n\t\tpdf.addImage(this.state.images.signature, \"png\", 45, 190, 120, 47);\n\t\t// Image has a ratio of 3.43:1\n\t\tpdf.addImage(this.state.images.quadraam_logo, \"png\", 70, 240, 70, 20);\n\n\t\treturn pdf;\n\t}\n\n\t/**\n\t\t* Grabs the data using the groupId provided and\n\t\t* puts that as first page in the pdf certificate.\n\t\t*\n\t\t* @param groupId The id of the group to generate a certificate for.\n\t\t* @param pdf The pdf object.\n\t\t*/\n\taddModule(groupId, pdf) {\n\t\tif (!this.props.groups) {\n\t\t\tconsole.log(\"No groups found\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.props.groups.hasOwnProperty(groupId + \"\")) {\n\t\t\tconsole.log(\"That group id cannot be found!\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.props.groups[groupId].hasOwnProperty(\"evaluation\")) {\n\t\t\tconsole.log(\"That module has no evaluation!\");\n\t\t\treturn;\n\t\t}\n\n\t\t// Fetch the data.\n\t\tlet data = this.props.groups[groupId];\n\n\t\t// Image has a ratio of 3.66:1\n\t\tpdf.addImage(this.state.images.course_header, \"png\", 20, 0, 150, 41);\n\n\t\t// Add the text.\n\t\tpdf.text(\"Hierbij verklaart Quadraam dat\", 105, 60, { align: \"center\" });\n\n\t\tpdf.setFontStyle(\"bold\");\n\t\tpdf.setFontSize(25);\n\t\tpdf.text(data.evaluation.displayName, 105, 70, { align: \"center\", maxWidth: 175 });\n\t\tpdf.setFontSize(12);\n\t\tpdf.setFontStyle(\"normal\");\n\n\t\tpdf.text(\"de Q-Highschool module\", 105, 87, { align: \"center\" });\n\n\t\tpdf.setFontStyle(\"bold\");\n\t\tpdf.setFontSize(28);\n\t\tpdf.text(data.courseName, 105, 100, { align: \"center\", maxWidth: 175 });\n\t\tpdf.setFontSize(12);\n\t\tpdf.setFontStyle(\"normal\");\n\n\t\tpdf.text(`van ${data.studyTime} studie-uren en onderdeel van het parcours ${data.subjectName} successvol heeft afgesloten met de beoordeling`, 105, 125, { align: \"center\", maxWidth: 120 });\n\n\t\tpdf.setFontStyle(\"bold\");\n\t\tpdf.setFontSize(28);\n\t\tpdf.text(translateAssessment(data.evaluation), 105, 145, { align: \"center\" });\n\t\tpdf.setFontSize(12);\n\t\tpdf.setFontStyle(\"normal\");\n\n\t\tlet date = data.evaluation.hasOwnProperty(\"date\") ? data.evaluation.date.toString() : data.schoolYear.toString();\n\t\tpdf.text(date, 105, 168, { align: \"center\" });\n\t}\n\n\t/**\n\t * Adds default text to a new portfolio page.\n\t *\n\t * @param pdf The pdf to add the text to.\n\t * @param name Name of the student for the header.\n\t */\n\tportfolioBasePage(pdf, subjectId) {\n\t\t// Set the name header.\n\t\tpdf.text(\"Hierbij verklaart Quadraam dat\", 80, 50);\n\n\t\tpdf.setFontSize(25);\n\t\tpdf.setFontStyle(\"bold\");\n\t\tpdf.text(this.props.user.displayName, 107, 60, { align: \"center\" });\n\n\t\tpdf.setFontSize(12);\n\t\tpdf.setFontStyle(\"normal\");\n\t\tpdf.text(`binnen het parcours ${this.props.subjects[subjectId].name} de volgende Q-highschoolmodules heeft afgerond:`, 105, 70, { align: \"center\", maxWidth: 100 });\n\n\t\tpdf.addImage(this.state.images.portfolio_header, \"png\", 20, 0, 150, 41);\n\n\t\tthis.addPortfolioTableHeader(pdf,100)\n\t}\n\n\n\taddPortfolioTableHeader(pdf, height) {\n\t\t// Make the header for the portfolio table.\n\t\tpdf.setFontStyle(\"bold\");\n\t\tpdf.text(\"Naam module\", 20, height);\n\t\tpdf.text(\"Studietijd\", 130, height);\n\t\tpdf.text(\"Schooljaar\", 170, height);\n\t\tpdf.setFontStyle(\"normal\");\n\t}\n\n\t/**\n\t\t* Gathers data for the portfolio page(s) in the certificate,\n\t\t* then adds the data in a nicely formatted way to the\n\t\t* certificate.\n\t\t*\n\t\t* @param pdf The pdf object.\n\t\t*/\n\taddPortfolio(pdf, subjectId) {\n\t\tif (!this.props.groups)\n\t\t\treturn;\n\n\t\t// Construct the portfolio table.\n\t\tlet heightOffset = 0;\n\t\tlet page = 0;\n\t\tpdf.setFontStyle(\"normal\");\n\t\tObject.keys(this.props.groups).forEach((key) => {\n\t\t\tlet val = this.props.groups[key];\n\t\t\tlet data = {};\n\n\t\t\tlet maxLines = page === 1 ? 5 : 9;\n\n\t\t\tif (val.subjectId + \"\" !== subjectId + \"\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!val.hasOwnProperty(\"evaluation\"))\n\t\t\t\treturn;\n\n\t\t\t// Get the module name.\n\t\t\tif (val.hasOwnProperty(\"courseName\"))\n\t\t\t\tdata.name = val.courseName.toString();\n\t\t\telse\n\t\t\t\treturn;\n\n\t\t\t// Get the grade data.\n\t\t\tif (\n\t\t\t\tval.evaluation.hasOwnProperty(\"assesment\") && \n\t\t\t\tval.evaluation.assesment.length > 0 && \n\t\t\t\t(val.evaluation.assesment + \"\").toUpperCase() !== \"ND\"\n\t\t\t\t)\n\t\t\t\tdata.grade = translateAssessment(val.evaluation)\n\t\t\telse\n\t\t\t\treturn;\n\n\t\t\t// Add another page if there are too many modules.\n\t\t\tif (heightOffset % maxLines === 0) {\n\t\t\t\tif (page === 0) {\n\t\t\t\t\tthis.portfolioBasePage(pdf, subjectId);\n\t\t\t\t} else {\n\t\t\t\t\tthis.makeBase(pdf);\n\t\t\t\t\tthis.addPortfolioTableHeader(pdf,60);\n\t\t\t\t\tpdf.addImage(this.state.images.portfolio_header, \"png\", 20, 0, 150, 41);\n\t\t\t\t}\n\t\t\t\theightOffset = 0;\n\t\t\t\tpage += 1;\n\t\t\t}\n\n\t\t\tlet topHeight = page === 1 ? 113 : 75;\n\n\t\t\t// Get the study credits.\n\t\t\tif (val.hasOwnProperty(\"studyTime\"))\n\t\t\t\tdata.time = val.studyTime.toString();\n\t\t\telse\n\t\t\t\tdata.time = \"-\";\n\n\t\t\t// Get the date of evaluation.\n\t\t\tif (val.evaluation.hasOwnProperty(\"date\"))\n\t\t\t\tdata.date = val.evaluation.date.toString();\n\t\t\telse\n\t\t\t\tdata.date = val.hasOwnProperty(\"schoolYear\") ? val.schoolYear : \"Niet bekend.\";\n\n\t\t\t// Construct a pdf row.\n\t\t\tlet height = heightOffset * 13 + topHeight;\n\t\t\tpdf.text(data.name, 20, height, { maxWidth: 70 });\n\n\t\t\t// Set the color to Quadraam orange and make the text bold.\n\t\t\t// After putting the text down, revert to original settings.\n\t\t\tpdf.setTextColor(\"#F0831F\");\n\t\t\tpdf.setFontStyle(\"bold\");\n\t\t\tpdf.text(data.grade, 90, height);\n\t\t\tpdf.setFontStyle(\"normal\");\n\t\t\tpdf.setTextColor(\"#000000\");\n\n\t\t\tpdf.text(data.time + \" uur\", 130, height);\n\t\t\tpdf.text(data.date, 170, height);\n\t\t\theightOffset += 1;\n\t\t});\n\t}\n\n\t/**\n\t\t* Fixes the page count to be even by adding\n\t\t* a page when the current count is odd.\n\t\t* @param pdf The pdf object.\n\t\t*/\n\tfixPageCount(pdf) {\n\t\tif (pdf.hasOwnProperty(\"page_count\") && pdf.page_count % 2 !== 0) {\n\t\t\tpdf.addPage();\n\t\t\tpdf.page_count++;\n\t\t}\n\t}\n\n\t/**\n\t\t* Generate a certificate based on the url given.\n\t\t* If a groupId is specified, then use that to get a\n\t\t* module specific certificate.\n\t\t*\n\t\t* In all cases add the portfolio and make sure the\n\t\t* amount of pages is even.\n\t\t*/\n\tdoGenerate() {\n\t\tif (this.state.generatedPdf)\n\t\t\treturn;\n\n\t\tif (!this.props.groups) {\n\t\t\tthis.props.getParticipatingGroups();\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.props.enrollmentIds) {\n\t\t\tthis.props.getEnrollments();\n\t\t\treturn;\n\t\t}\n\n\t\t// Make the base pdf.\n\t\tlet pdf = this.makeBase();\n\n\t\t// Add a single module if requested.\n\t\tlet isModuleCertificate = this.props.match.params.hasOwnProperty(\"groupId\") && this.props.match.params.groupId !== null;\n\t\tlet groupId = this.props.match.params.groupId;\n\t\tlet subjectId = this.props.match.params.subjectId;\n\t\tif (isModuleCertificate) {\n\t\t\tthis.addModule(groupId, pdf);\n\t\t} else {\n\t\t\t// Add the portfolio page(s).\n\t\t\tthis.addPortfolio(pdf,subjectId);\n\n\t\t\t// Make sure the page count is always even in case we're printing a portfolio.\n\t\t\tthis.fixPageCount(pdf);\n\t\t}\n\n\t\t// Open the pdf in this window.\n\t\t// window.location = pdf.output(\"bloburi\", \"Certificaat Q-Highschool.pdf\");\n\n\t\t// Save the pdf\n\t\tif (isModuleCertificate) {\n\t\t\tpdf.save(\"Certificaat Q-Highschool.pdf\");\n\t\t} else {\n\t\t\tpdf.save(`Parcoursoverzicht ${this.props.subjects[subjectId].name} ${this.props.user.displayName}.pdf`);\n\t\t}\n\n\t\t// Make sure we do not generate the pdf multiple times.\n\t\tlet newState = this.state;\n\t\tnewState.generatedPdf = true;\n\t\tthis.setState(newState);\n\t}\n\n\t/**\n\t\t* Render the page.\n\t\t* @returns a JSX page.\n\t\t*/\n\trender() {\n\t\t// Generate the pdf.\n\t\tthis.doGenerate();\n\n\t\t// Go back if the certificate is generated,\n\t\tif (this.state.generatedPdf) {\n\t\t\treturn (\n\t\t\t\t<Page>\n\t\t\t\t\t<p>Certificaat is klaar!</p>\n\t\t\t\t</Page>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (<Page>\n\t\t\t\t<p>Een moment geduld a.u.b. </p>\n\t\t\t\t<Progress />\n\t\t\t</Page>)\n\t\t}\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tgroups: state.groups,\n\t\tparticipatingGroupIds: state.users[state.userId].participatingGroupIds,\n\t\tenrollmentIds: state.users[state.userId].enrollmentIds,\n\t\trole: state.role,\n\t\tschoolYear: state.schoolYear,\n\t\tcurrentPeriod: state.currentPeriod,\n\t\tuserId: state.userId,\n\t\tuser: state.users[state.userId],\n\t\tsubjects: state.subjects,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetSubjects: () => dispatch(getSubjects()),\n\t\tgetEnrollments: () => dispatch(getEnrolLments()),\n\t\tgetParticipatingGroups: () => dispatch(getParticipatingGroups())\n\t};\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)((Certificate)));","import { Paper, Toolbar, Typography } from \"@material-ui/core\";\nimport { map } from \"lodash\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Page from '../Page';\nimport UserList from \"./UserList\";\nimport { getAllUsers } from \"../../store/actions\";\n\nclass UserListPage extends Component {\n\n\tcomponentDidMount() {\n\t\tthis.props.getAllUsers();\n\t}\n\n\trender() {\n\t\treturn <Page>\n\t\t\t<Paper style={{ position: \"relative\" }} >\n\t\t\t\t<Toolbar style={{ display: \"flex\" }} >\n\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\" style={{ flex: \"2 1 auto\" }}>\n\t\t\t\t\t\tGebruikers\n          </Typography>\n\t\t\t\t</Toolbar>\n\t\t\t</Paper>\n\t\t\t<UserList userIds={this.props.userIds}>\n\t\t\t</UserList>\n\t\t</Page>\n\t}\n\n}\n\n\n\nfunction mapStateToProps(state, ownProps) {\n\treturn {\n\t\tuserIds: map(state.users, (user) => user.id)\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tgetAllUsers: () => dispatch(getAllUsers()),\n\t};\n}\n\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(UserListPage));","import React, { Component } from \"react\";\nimport { Redirect, Route, Switch, withRouter, } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { addNotification, getSelf } from './store/actions';\n\nimport Login from \"./pages/Login\";\nimport CourseSelect from \"./pages/CourseSelect\";\nimport Group from \"./pages/group/Group\";\nimport DataPage from \"./pages/DataPage\";\nimport Taxi from \"./pages/Taxi\";\n\nimport Header from \"./components/Header\";\nimport NotificationBar from \"./components/NotificationBar\";\nimport Menu from \"./components/Menu\";\nimport Portfolio from \"./pages/Portfolio\";\nimport ControlPanel from \"./pages/ControlPanel\";\nimport Profile from \"./pages/profile/Profile\";\nimport Certificate from \"./pages/Certificate\";\nimport UserListPage from \"./pages/user/UserListPage\";\n\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.getSelf();\n    }\n\n    componentDidUpdate() {\n        if (this.props.user != null && this.props.user.needsProfileUpdate && this.props.role === \"student\" && this.props.location.pathname !== \"/profiel\") {\n            this.props.history.push(\"/profiel\");\n        }\n    }\n\n    handleShowMenu() {\n        let showMenu = this.state.showMenu;\n        this.setState({\n            showMenu: !showMenu,\n        });\n    }\n\n    getStartPage(role) {\n        switch (role) {\n            case \"student\":\n                return \"/aanbod\";\n            case \"grade_admin\":\n                return \"/gegevens\";\n            default:\n                return \"/groepen\";\n        }\n    }\n\n    render() {\n        if (!this.props.role && this.props.location.pathname !== \"/login\") {\n            return <div />;\n        }\n        const startPage = this.getStartPage(this.props.role);\n        return (\n            <div className=\"App\">\n                <NotificationBar />\n                {this.props.showMenu && <Menu />}\n                <Header />\n                <Switch>\n                    <Route path=\"/login\" component={Login} />\n                    <Route path=\"/aanbod\" component={CourseSelect} />\n                    <Route path=\"/groep/:groupId\" component={Group} />\n                    <Route path=\"/gebruikers\" component={UserListPage} />\n                    <Route path=\"/gebruiker/:userId\" component={Profile} />\n                    <Route path=\"/profiel/\" component={Profile} />\n                    <Route path=\"/portfolio/\" component={Portfolio} />\n                    <Route path=\"/groepen/\" component={Portfolio} />\n                    <Route path=\"/gegevens/\" component={DataPage} />\n                    <Route path=\"/taxi/\" component={Taxi} />\n                    <Route path=\"/beheer/\" component={ControlPanel} />\n                    <Route path=\"/certificaat/gebruiker/:userId/groep/:groupId\" component={Certificate} />\n                    <Route path=\"/certificaat/gebruiker/:userId/parcours/:subjectId\" component={Certificate} />\n                    <Redirect push to={startPage} />\n                </Switch>\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return {\n        showMenu: state.showMenu,\n        userId: state.userId,\n        role: state.role,\n        user: state.userId ? state.users[state.userId] : null,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        getSelf: () => dispatch(getSelf()),\n        addNotification: (notification) => dispatch(addNotification(notification)),\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","import React, { Component } from \"react\";\n\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport theme from './MuiTheme';\nimport App from '../App';\n\nclass GlobalProvider extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={this.props.store}>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<BrowserRouter>\n\t\t\t\t\t\t<App />\n\t\t\t\t\t</BrowserRouter>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default GlobalProvider;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose as reduxCompose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport reducer from './store/mainReducer';\nimport GlobalProvider from './lib/GlobalProvider';\nimport \"./layout.css\";\n// require('typeface-roboto');\n\nconst compose = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || reduxCompose;\nconst store = createStore(\n  reducer,\n  compose(\n    applyMiddleware(thunk),\n  ),\n);\n\nReactDOM.render(\n  <GlobalProvider store={store} />,\n  document.getElementById('root'));\n"],"sourceRoot":""}